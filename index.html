<!doctype html>
<html lang="pt-BR">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#667eea">
  <meta name="description" content="Ferramentas inteligentes para PMEs tomarem decisões com clareza. Sem enrolação, tudo prático.">
  <title>Fluxoteca - Ferramentas Inteligentes para PMEs</title>

<!-- Google Analytics 4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FXY7XHLX32"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-FXY7XHLX32');
</script>

<!-- PWA Meta Tags -->
  <link rel="manifest" href="#" id="manifestPlaceholder">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Fluxoteca">
    
<style>
    /* ===== VARIÁVEIS E CONFIGURAÇÕES GLOBAIS ===== */
    :root {
      --bg-primary: #fafafa;
      --bg-secondary: #ffffff;
      --bg-glass: rgba(255, 255, 255, 0.85);
      --text-primary: #0a0a0a;
      --text-secondary: #525252;
      --accent-primary: #0f172a;
      --accent-hover: #1e293b;
      --accent-secondary: #6366f1;
      --border-color: #e5e5e5;
      --card-bg: #ffffff;
      --premium-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --premium-border: #8b5cf6;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    [data-theme="dark"] {
      --bg-primary: #0a0a0a;
      --bg-secondary: #171717;
      --bg-glass: rgba(23, 23, 23, 0.85);
      --text-primary: #fafafa;
      --text-secondary: #a3a3a3;
      --accent-primary: #fafafa;
      --accent-hover: #e5e5e5;
      --accent-secondary: #818cf8;
      --border-color: #262626;
      --card-bg: #171717;
      --premium-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --premium-border: #a78bfa;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
      --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
      --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.6);
    }

    /* ===== RESET E CONFIGURAÇÕES BASE ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      color: var(--text-primary);
      line-height: 1.6;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* ===== LAYOUT E CONTAINERS ===== */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }

    body {
      padding-left: 104px;
    }

    section {
      padding: 80px 0;
    }

    /* ===== COMPONENTES DE ACESSIBILIDADE ===== */
    .skip-links {
      position: absolute;
      top: -100px;
      left: 0;
      z-index: 9999;
    }

    .skip-link {
      position: absolute;
      top: -100px;
      left: 8px;
      background: var(--accent-primary);
      color: var(--bg-primary);
      padding: 12px 16px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      box-shadow: var(--shadow-lg);
      transition: all 0.3s ease;
      z-index: 10000;
    }

    .skip-link:focus {
      top: 8px;
      outline: 3px solid var(--accent-secondary);
      outline-offset: 2px;
    }

    .skip-link:hover {
      background: var(--accent-hover);
      transform: translateY(-2px);
    }

    /* ===== COMPONENTES DE NAVEGAÇÃO ===== */
    /* Sidebar */
	.sidebar {
  	position: fixed;
  	left: 16px;
  	top: 16px;
  	bottom: 16px;
  	width: 72px;
  	background: var(--bg-glass);
  	border: 1px solid var(--border-color);
  	border-radius: 24px;
  	padding: 16px 0;
 	 z-index: 1000;
  	box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  	display: flex;
  	flex-direction: column;
  	gap: 8px;
  	transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  	overflow: hidden;
	}

      .sidebar:hover {
       width: 240px;
       box-shadow: var(--shadow-glow);
      }

      .sidebar-logo {
        width: 44px;
        height: 44px;
        margin: 0 auto 16px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        background: var(--premium-bg);
        transition: transform 0.3s ease;
  	border: none !important;
  	box-shadow: 0 0 0 rgba(0,0,0,0) !important;
  	outline: none !important;
	}

	.sidebar-logo:focus-visible {
  	outline: 2px solid var(--accent-secondary); /* Acessibilidade */
	}

.sidebar-logo-svg {
  width: 28px;
  height: 28px;
  display: block;
}

      .sidebar-logo:hover {
        transform: scale(1.05);
      }

      .sidebar-logo span {
        font-weight: 700;
        font-size: 20px;
        color: #ffffff;
      }

    .sidebar-nav {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
      padding: 0 14px;
      overflow-y: auto;
      scrollbar-width: none;
    }

    .sidebar-nav::-webkit-scrollbar {
      display: none;
    }

    .sidebar-item {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 12px;
      width: 44px;
      height: 44px;
      border-radius: 12px;
      background: transparent;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
      color: var(--text-secondary);
      padding: 0 10px;
      white-space: nowrap;
    }

    .sidebar:hover .sidebar-item {
      width: 208px;
    }

    .sidebar-item:hover {
      background: var(--bg-secondary);
      color: var(--text-primary);
    }

    .sidebar-item:focus {
      outline: 2px solid var(--accent-secondary);
      outline-offset: 2px;
    }

    .sidebar-item[aria-current="page"] {
      background: var(--bg-secondary);
      color: var(--accent-secondary);
    }

    .sidebar-item[aria-current="page"]::after {
      content: '';
      position: absolute;
      right: -14px;
      top: 50%;
      transform: translateY(-50%);
      width: 4px;
      height: 24px;
      background: var(--premium-bg);
      border-radius: 2px 0 0 2px;
    }

    .sidebar-item svg {
      width: 22px;
      height: 22px;
      stroke: currentColor;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
      flex-shrink: 0;
    }

      .sidebar-item:hover svg {
        transform: scale(1.1);
      }

    .sidebar-item-text {
      font-size: 15px;
      font-weight: 600;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      letter-spacing: -0.2px;
    }

    .sidebar:hover .sidebar-item-text {
      opacity: 1;
      visibility: visible;
    }

    .sidebar-badge {
      position: absolute;
      top: 2px;
      right: 2px;
      background: var(--premium-bg);
      color: white;
      font-size: 9px;
      font-weight: 700;
      padding: 2px 5px;
      border-radius: 8px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      box-shadow: 0 2px 6px rgba(102, 126, 234, 0.4);
      transition: all 0.2s ease;
    }

    .sidebar:hover .sidebar-badge {
      position: static;
      margin-left: auto;
    }

    .sidebar-badge.free {
      background: #10b981;
    }

    .sidebar-footer {
      padding: 0 14px;
      display: flex;
      flex-direction: column;
      gap: 4px;
      border-top: 1px solid var(--border-color);
      padding-top: 12px;
      margin-top: 8px;
    }

    .back-to-top, .theme-toggle {
      width: 44px;
      height: 44px;
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      cursor: pointer;
      font-size: 20px;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-primary);
      transform: translateY(-2px);
    }

    .back-to-top:hover, .theme-toggle:hover {
      background: var(--bg-secondary);
      border-color: var(--accent-secondary);
    }

    .back-to-top:hover {
      transform: translateY(-2px);
    }

    .back-to-top:focus, .theme-toggle:focus {
      outline: 2px solid var(--accent-secondary);
      outline-offset: 2px;
    }

    /* ===== COMPONENTES MÓVEIS ===== */
    .mobile-sidebar-toggle {
      display: none;
      position: fixed;
      top: 16px;
      left: 16px;
      width: 44px;
      height: 44px;
      background: var(--bg-glass);
      backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      cursor: pointer;
      font-size: 20px;
      z-index: 1100;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow-md);
      transition: all 0.2s ease;
      color: var(--text-primary);
    }

    .mobile-sidebar-toggle:hover {
      border-color: var(--accent-secondary);
    }

    .mobile-sidebar-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      z-index: 999;
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    .mobile-sidebar-overlay.active {
      opacity: 1;
      pointer-events: all;
    }

    /* ===== SEÇÃO HERO ===== */
.hero {
  background: var(--bg-secondary);
  position: relative;
  z-index: 1;
}
    @keyframes float {
      0%, 100% { transform: translate(0, 0) scale(1); }
      50% { transform: translate(30px, 30px) scale(1.1); }
    }

    .hero-content {
      position: relative;
      text-align: center;
      max-width: 800px;
      margin: 0 auto;
    }

    .hero h1 {
      font-size: 56px;
      font-weight: 800;
      margin-bottom: 28px;
      line-height: 1.15;
      letter-spacing: -1.5px;
      background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero p {
      font-size: 21px;
      color: var(--text-secondary);
      margin-bottom: 48px;
      line-height: 1.7;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    .hero-buttons {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 32px;
    }

/* ===== LOGO NO HERO ===== */
.hero-logo-container {
    display: flex;
    justify-content: center;
    margin-bottom: 40px;
    animation: fadeInDown 0.8s ease-out;
}

.hero-logo {
    height: 80px;
    width: auto;
    max-width: 360px;
    transition: all 0.3s ease;
}

/* Animação de entrada da logo */
@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}


    /* ===== COMPONENTES DE BOTÃO ===== */
    .btn {
      padding: 16px 36px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: none;
      text-decoration: none;
      display: inline-block;
      letter-spacing: -0.2px;
      position: relative;
      overflow: hidden;
    }

    .btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
    }

    .btn:active::before {
      width: 300px;
      height: 300px;
      transition: width 0s, height 0s;
    }

    .btn-primary {
      background: var(--accent-primary);
      color: var(--bg-primary);
      box-shadow: 0 4px 14px rgba(0, 0, 0, 0.15);
    }

    .btn-primary:hover {
      background: var(--accent-hover);
      transform: translateY(-3px);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
    }

    .btn-primary:active {
      transform: translateY(-1px) scale(0.98);
      transition: all 0.1s ease;
    }

    .btn-secondary {
      background: var(--card-bg);
      color: var(--text-primary);
      border: 2px solid var(--border-color);
      box-shadow: var(--shadow-sm);
    }

    .btn-secondary:hover {
      border-color: var(--accent-secondary);
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }

    .btn-secondary:active {
      transform: translateY(-1px) scale(0.98);
      transition: all 0.1s ease;
    }

      .badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 6px 12px;
        border-radius: 999px;
        font-size: 11px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .badge-category {
        background: rgba(99, 102, 241, 0.12);
        color: var(--accent-secondary);
      }

      .badge-soon {
        background: linear-gradient(135deg, #f59e0b 0%, #ef4444 100%);
        color: #fff;
        animation: pulse 2s ease-in-out infinite;
      }

      @keyframes pulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
      }

    /* ===== COMPONENTES DE SEÇÃO ===== */
    .section-header {
      text-align: center;
      max-width: 700px;
      margin: 0 auto 60px;
    }

    .section-header h2 {
      font-size: 36px;
      font-weight: 700;
      margin-bottom: 16px;
    }

    .section-header p {
      font-size: 18px;
      color: var(--text-secondary);
    }

    /* ===== SISTEMA DE BUSCA ===== */
    .search-section {
      max-width: 800px;
      margin: 0 auto 50px;
    }

    .search-bar {
      position: relative;
      margin-bottom: 24px;
    }

    .search-icon {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      pointer-events: none;
      width: 20px;
      height: 20px;
    }

    .search-icon svg {
      width: 20px;
      height: 20px;
      stroke: var(--text-secondary);
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .search-bar input {
      width: 100%;
      padding: 16px 20px 16px 56px;
      border: 2px solid var(--border-color);
      border-radius: 16px;
      font-size: 16px;
      background: var(--card-bg);
      color: var(--text-primary);
      transition: all 0.3s ease;
      font-family: inherit;
    }

    .search-bar input:hover {
      border-color: var(--accent-secondary);
      box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.05);
    }

    .search-bar input:focus {
      outline: none;
      border-color: var(--accent-secondary);
      box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
      transform: translateY(-2px);
    }

    .search-bar input::placeholder {
      color: var(--text-secondary);
      opacity: 0.6;
    }

    .categories {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .category-chip {
      padding: 10px 20px;
      border-radius: 24px;
      border: 2px solid var(--border-color);
      background: var(--card-bg);
      color: var(--text-primary);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      letter-spacing: -0.2px;
      position: relative;
      overflow: hidden;
    }

    .category-chip::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(99, 102, 241, 0.1);
      transform: translate(-50%, -50%);
      transition: width 0.4s ease, height 0.4s ease;
    }

    .category-chip:hover::before {
      width: 200px;
      height: 200px;
    }

    .category-chip:hover {
      border-color: var(--accent-secondary);
      background: var(--bg-secondary);
      transform: translateY(-2px) scale(1.05);
    }

    .category-chip:active {
      transform: translateY(0) scale(0.98);
      transition: all 0.1s ease;
    }

    .category-chip.active {
      background: var(--accent-primary);
      color: var(--bg-primary);
      border-color: var(--accent-primary);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .category-chip.active::before {
      display: none;
    }

    /* ===== SISTEMA DE FERRAMENTAS ===== */
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;
      margin-top: 40px;
    }

    .tool-card {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 36px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
                  opacity 0.3s ease, 
                  transform 0.3s ease, 
                  order 0.3s ease;
      box-shadow: var(--shadow-sm);
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      opacity: 1;
      transform: translateY(0);
      cursor: pointer;
    }

    .tool-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--premium-bg);
      transform: scaleX(0);
      transition: transform 0.4s ease;
    }

    .tool-card::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
      transform: translate(-50%, -50%);
      transition: width 0.6s ease, height 0.6s ease;
      pointer-events: none;
      z-index: 0;
    }

    .tool-card:hover::after {
      width: 500px;
      height: 500px;
    }

    .tool-card:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
      border-color: transparent;
    }

    .tool-card:hover::before {
      transform: scaleX(1);
    }

    .tool-card:active {
      transform: translateY(-6px) scale(0.98);
      transition: all 0.1s ease;
    }

    .tool-card > * {
      position: relative;
      z-index: 1;
    }

    .tool-badges {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: flex-end;
      z-index: 10;
    }

    .tool-badge {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      transition: all 0.3s ease;
      animation: badge-entrance 0.5s ease backwards;
    }

    @keyframes badge-entrance {
      from {
        opacity: 0;
        transform: translateY(-10px) scale(0.8);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .tool-card:hover .tool-badge {
      transform: translateY(-2px) scale(1.05);
    }

    .tool-badge.premium {
      background: var(--premium-bg);
      color: white;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      animation-delay: 0.1s;
    }

    .tool-badge.free {
      background: #10b981;
      color: white;
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      animation-delay: 0.1s;
    }

    .tool-badge.construction {
      background: #f59e0b;
      color: white;
      box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
      animation-delay: 0.2s;
    }

    .tool-badge.new {
      background: #f59e0b;
      color: white;
      box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
      animation-delay: 0.2s;
      animation: badge-pulse 2s ease-in-out infinite;
    }

    @keyframes badge-pulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 0 6px 16px rgba(245, 158, 11, 0.5);
      }
    }

    .tool-icon {
      width: 64px;
      height: 64px;
      background: var(--premium-bg);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 24px;
      box-shadow: 0 8px 16px rgba(102, 126, 234, 0.3);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .tool-card:hover .tool-icon {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 12px 24px rgba(102, 126, 234, 0.5);
    }

    .tool-icon svg {
      width: 32px;
      height: 32px;
      stroke: white;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
      transition: transform 0.3s ease;
    }

    .tool-card:hover .tool-icon svg {
      transform: scale(1.1);
    }

    .tool-card h3 {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 14px;
      letter-spacing: -0.5px;
      line-height: 1.3;
      transition: color 0.3s ease;
    }

    .tool-card:hover h3 {
      color: var(--accent-secondary);
    }

    .tool-card p {
      color: var(--text-secondary);
      margin-bottom: 28px;
      font-size: 16px;
      line-height: 1.6;
      transition: color 0.3s ease;
    }

    .tool-card:hover p {
      color: var(--text-primary);
    }

    .tool-card .btn {
      width: 100%;
      padding: 12px;
      margin-top: auto;
    }

    /* Animações de entrada das ferramentas */
    @keyframes card-entrance {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .tool-card.loaded {
      animation: card-entrance 0.6s ease backwards;
    }

    .tool-card.loaded:nth-child(1) { animation-delay: 0.05s; }
    .tool-card.loaded:nth-child(2) { animation-delay: 0.1s; }
    .tool-card.loaded:nth-child(3) { animation-delay: 0.15s; }
    .tool-card.loaded:nth-child(4) { animation-delay: 0.2s; }
    .tool-card.loaded:nth-child(5) { animation-delay: 0.25s; }
    .tool-card.loaded:nth-child(6) { animation-delay: 0.3s; }
    .tool-card.loaded:nth-child(7) { animation-delay: 0.35s; }
    .tool-card.loaded:nth-child(8) { animation-delay: 0.4s; }
    .tool-card.loaded:nth-child(9) { animation-delay: 0.45s; }

/* ===== SISTEMA DE CARROSSEL ===== */
.carousel-container {
    position: relative;
    margin-top: 40px;
}

.carousel-wrapper {
    position: relative;
    overflow: hidden;
    border-radius: 20px;
}

.tools-carousel {
    width: 100%;
}

/* Com JS ativo, vira carrossel */
body.js-enabled .tools-carousel {
    overflow: hidden;
}

body.js-enabled .tools-grid {
    display: flex;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    gap: 24px;
    margin-top: 0;
}

/* Manter o grid original em telas muito pequenas */
@media (max-width: 480px) {
    .tools-grid {
        display: grid;
        grid-template-columns: 1fr;
        transform: none !important;
    }
    
    .carousel-btn {
        display: none;
    }
}

/* Configuração de cards por viewport */
.tool-card {
    flex: 0 0 calc(50% - 12px); /* 2 cards por padrão */
    min-width: 0;
}

@media (min-width: 769px) {
    .tool-card {
        flex: 0 0 calc(33.333% - 16px); /* 3 cards em tablets */
    }
}

@media (min-width: 1024px) {
    .tool-card {
        flex: 0 0 calc(25% - 18px); /* 4 cards em desktop */
    }
}

/* Botões de Navegação */
.carousel-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 52px;
    height: 52px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: 2px solid rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10;
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0.95;
}

.carousel-btn:hover {
    background: linear-gradient(135deg, #5a6fd8 0%, #6a42a0 100%);
    border-color: white;
    transform: translateY(-50%) scale(1.15);
    opacity: 1;
    box-shadow: 0 12px 32px rgba(102, 126, 234, 0.6);
}

.carousel-btn:active {
    transform: translateY(-50%) scale(0.95);
    transition: all 0.1s ease;
}

.carousel-btn:disabled {
    background: var(--text-secondary);
    border-color: var(--border-color);
    cursor: not-allowed;
    transform: translateY(-50%);
    opacity: 0.4;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.carousel-btn:disabled:hover {
    background: var(--text-secondary);
    border-color: var(--border-color);
    transform: translateY(-50%);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.carousel-prev {
    left: 20px;
}

.carousel-next {
    right: 20px;
}

.carousel-btn svg {
    width: 24px;
    height: 24px;
    stroke: white;
    stroke-width: 2.5;
    stroke-linecap: round;
    stroke-linejoin: round;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}

/* Estados de foco para acessibilidade */
.carousel-btn:focus {
    outline: 3px solid rgba(102, 126, 234, 0.5);
    outline-offset: 2px;
}

/* Melhorar visibilidade em modo escuro */
[data-theme="dark"] .carousel-btn {
    border-color: rgba(255, 255, 255, 0.8);
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.5);
}

[data-theme="dark"] .carousel-btn:hover {
    border-color: white;
    box-shadow: 0 12px 32px rgba(102, 126, 234, 0.7);
}

/* ===== INDICADORES DO CARROSSEL ===== */
.carousel-indicators {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-top: 20px;
}

.carousel-indicator {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--border-color);
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
}

.carousel-indicator.active {
    background: var(--accent-secondary);
    transform: scale(1.2);
}

.carousel-indicator:hover {
    background: var(--accent-secondary);
    transform: scale(1.1);
}

/* Ajustes para mobile */
@media (max-width: 768px) {
    .carousel-btn {
        width: 48px;
        height: 48px;
    }
    
    .carousel-btn svg {
        width: 20px;
        height: 20px;
    }
    
    .carousel-prev {
        left: 12px;
    }
    
    .carousel-next {
        right: 12px;
    }
}

@media (max-width: 480px) {
    .carousel-btn {
        width: 44px;
        height: 44px;
    }
    
    .carousel-btn svg {
        width: 18px;
        height: 18px;
    }
    
    .carousel-prev {
        left: 8px;
    }
    
    .carousel-next {
        right: 8px;
    }
}

/* Adicionar efeito de brilho sutil nos botões ativos */
.carousel-btn::after {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, transparent 50%);
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.carousel-btn:hover::after {
    opacity: 1;
}

/* ===== BOTÃO VER FERRAMENTAS ===== */
.catalog-cta-section {
    text-align: center;
    margin-top: 48px;
    padding-top: 32px;
    border-top: 1px solid var(--border-color);
}

.catalog-cta-btn {
    padding: 16px 32px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    border-radius: 16px;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
    display: inline-flex;
    align-items: center;
    gap: 12px;
    position: relative;
    overflow: hidden;
}

.catalog-cta-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s ease;
}

.catalog-cta-btn:hover::before {
    left: 100%;
}

.catalog-cta-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
}

.catalog-cta-btn:active {
    transform: translateY(-1px);
    transition: all 0.1s ease;
}

.catalog-cta-btn svg {
    width: 20px;
    height: 20px;
    stroke: white;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
    transition: transform 0.3s ease;
}

.catalog-cta-btn:hover svg {
    transform: translateX(4px);
}

.catalog-cta-description {
    color: var(--text-secondary);
    font-size: 14px;
    margin-top: 12px;
    margin-bottom: 0;
}

/* Responsividade do botão */
@media (max-width: 768px) {
    .catalog-cta-section {
        margin-top: 32px;
        padding-top: 24px;
    }
    
    .catalog-cta-btn {
        padding: 14px 24px;
        font-size: 16px;
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .catalog-cta-section {
        margin-top: 24px;
        padding-top: 20px;
    }
    
    .catalog-cta-btn {
        padding: 12px 20px;
        font-size: 15px;
    }
    
    .catalog-cta-description {
        font-size: 13px;
    }
}

/* ===== SEÇÃO BLOG ===== */
      .blog-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 28px;
      }

.blog-card {
        background: var(--card-bg);
        border-radius: 24px;
        border: 1px solid var(--border-color);
        padding: 28px;
        box-shadow: var(--shadow-sm);
        display: flex;
        flex-direction: column;
        gap: 14px;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
      }

      .blog-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: var(--premium-bg);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.4s ease;
      }

      .blog-card:hover {
        transform: translateY(-6px);
        box-shadow: var(--shadow-lg);
        border-color: rgba(99, 102, 241, 0.3);
      }

      .blog-card:hover::before {
        transform: scaleX(1);
      }

      .blog-card-header {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .blog-card h3 {
        font-size: 22px;
        line-height: 1.3;
        letter-spacing: -0.03em;
        transition: color 0.3s ease;
      }

      .blog-card:hover h3 {
        color: var(--accent-secondary);
      }

      .blog-description {
        font-size: 15px;
        color: var(--text-secondary);
        line-height: 1.6;
      }

.blog-content .blog-description {
  margin-bottom: 8px; /* ou 12px, se quiser mais respiro */
}

    .blog-card .btn {
      width: 100%;
      margin-top: auto;
      background: transparent;
      color: var(--text-secondary);
      border: 1px solid var(--border-color);
      padding: 10px;
      font-size: 14px;
      box-shadow: none;
    }

    .blog-card .btn:hover {
      background: var(--bg-secondary);
      color: var(--text-primary);
      border-color: var(--accent-secondary);
      transform: translateY(-2px);
      box-shadow: var(--shadow-sm);
    }

      .blog-meta {
        font-size: 13px;
        color: var(--text-secondary);
        display: flex;
        align-items: center;
        gap: 8px;
      }

     .blog-card-footer {
        margin-top: 12px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
        padding-top: 16px;
        border-top: 1px solid var(--border-color);
      }

      .blog-card-footer .btn {
        flex-shrink: 0;
      }

      .btn-disabled {
        cursor: not-allowed;
        opacity: 0.6;
      }

      .btn-disabled:hover {
        transform: none;
      }

    .view-all-blog {
      text-align: center;
      margin-top: 40px;
    }

    .view-all-blog .btn {
      padding: 14px 32px;
    }

    /* ===== FOOTER ===== */
    footer {
      background: var(--bg-secondary);
      border-top: 1px solid var(--border-color);
      padding: 60px 0 30px;
      margin-top: 100px;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 48px;
      margin-bottom: 40px;
    }

    .footer-column h4 {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--text-primary);
      letter-spacing: -0.3px;
    }

    .footer-column ul {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .footer-column a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 14px;
      transition: color 0.2s ease;
      display: inline-block;
    }

    .footer-column a:hover {
      color: var(--accent-secondary);
    }

    .footer-bottom {
      border-top: 1px solid var(--border-color);
      padding-top: 24px;
      text-align: center;
    }

    .footer-bottom p {
      color: var(--text-secondary);
      font-size: 13px;
      line-height: 1.6;
      margin: 0;
    }

    .footer-bottom a {
      color: var(--accent-secondary);
      text-decoration: none;
      font-weight: 600;
      transition: color 0.2s ease;
    }

    .footer-bottom a:hover {
      color: var(--text-primary);
    }

    /* ===== SISTEMA PWA ===== */
    .pwa-install-banner {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1500;
      max-width: 500px;
      width: calc(100% - 48px);
      animation: slideUpBanner 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @keyframes slideUpBanner {
      from {
        opacity: 0;
        transform: translateX(-50%) translateY(100px);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
    }

    .pwa-banner-content {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 20px 24px;
      box-shadow: var(--shadow-xl);
      display: flex;
      align-items: center;
      gap: 16px;
      backdrop-filter: blur(20px) saturate(180%);
      position: relative;
    }

    .pwa-banner-icon {
      width: 48px;
      height: 48px;
      background: var(--premium-bg);
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
    }

    .pwa-banner-text {
      flex: 1;
      min-width: 0;
    }

    .pwa-banner-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 4px;
      letter-spacing: -0.3px;
    }

    .pwa-banner-description {
      font-size: 13px;
      color: var(--text-secondary);
      line-height: 1.4;
    }

    .pwa-install-btn {
      padding: 10px 20px;
      background: var(--premium-bg);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      flex-shrink: 0;
      letter-spacing: -0.2px;
    }

    .pwa-install-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.5);
    }

    .pwa-install-btn:active {
      transform: translateY(0);
    }

    .pwa-close-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      width: 28px;
      height: 28px;
      background: transparent;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-secondary);
      transition: all 0.2s ease;
    }

    .pwa-close-btn:hover {
      background: var(--bg-secondary);
      color: var(--text-primary);
    }

    /* ===== SISTEMA DE QUIZ (MANTIDO POR DEPENDÊNCIAS) ===== */
    .quiz-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(8px);
      z-index: 2000;
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .quiz-modal.active {
      display: flex;
      opacity: 1;
    }

    .quiz-container {
      background: var(--card-bg);
      border-radius: 24px;
      max-width: 700px;
      width: 100%;
      max-height: 90%;
      overflow-y: auto;
      box-shadow: var(--shadow-xl);
      position: relative;
      transform: scale(0.9);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .quiz-header {
      padding: 40px 40px 32px;
      border-bottom: 1px solid var(--border-color);
      position: relative;
    }

    .quiz-close {
      position: absolute;
      top: 20px;
      right: 20px;
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }

    .quiz-close:hover {
      background: var(--border-color);
      transform: rotate(90deg);
    }

    .quiz-close svg {
      width: 20px;
      height: 20px;
      stroke: var(--text-primary);
      stroke-width: 2;
      stroke-linecap: round;
    }

    .quiz-progress {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
    }

    .progress-dot {
      flex: 1;
      height: 4px;
      background: var(--border-color);
      border-radius: 2px;
      transition: background 0.3s ease;
    }

    .progress-dot.active {
      background: var(--premium-bg);
    }

    .quiz-header h2 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 12px;
      letter-spacing: -0.5px;
    }

    .quiz-header p {
      font-size: 16px;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .quiz-body {
      padding: 40px;
    }

    .quiz-question {
      display: none;
      animation: fadeInUp 0.4s ease;
    }

    .quiz-question.active {
      display: block;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .question-title {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 24px;
      color: var(--text-primary);
      letter-spacing: -0.3px;
    }

    .quiz-options {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .quiz-option {
      padding: 20px 24px;
      border: 2px solid var(--border-color);
      border-radius: 16px;
      background: var(--card-bg);
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      gap: 16px;
      position: relative;
      overflow: hidden;
    }

    .quiz-option::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .quiz-option:hover::before {
      opacity: 1;
    }

    .quiz-option:hover {
      border-color: var(--accent-secondary);
      transform: translateX(8px);
    }

    .quiz-option:active {
      transform: translateX(4px) scale(0.98);
    }

    .option-icon {
      width: 48px;
      height: 48px;
      background: var(--premium-bg);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      position: relative;
      z-index: 1;
    }

    .option-icon svg {
      width: 24px;
      height: 24px;
      stroke: white;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .option-content {
      flex: 1;
      position: relative;
      z-index: 1;
    }

    .option-title {
      font-size: 17px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 4px;
      letter-spacing: -0.2px;
    }

    .option-description {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    .quiz-result {
      display: none;
      text-align: center;
      animation: fadeInUp 0.5s ease;
    }

    .quiz-result.active {
      display: block;
    }

    .result-icon {
      width: 80px;
      height: 80px;
      background: var(--premium-bg);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 28px;
      box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
      animation: scaleIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @keyframes scaleIn {
      from {
        transform: scale(0);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .result-icon svg {
      width: 40px;
      height: 40px;
      stroke: white;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .result-title {
      font-size: 26px;
      font-weight: 700;
      margin-bottom: 16px;
      color: var(--text-primary);
      letter-spacing: -0.5px;
    }

    .result-description {
      font-size: 17px;
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 32px;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .result-tools {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 32px;
    }

    .result-tool {
      padding: 20px;
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      text-align: left;
      display: flex;
      align-items: center;
      gap: 16px;
      transition: all 0.3s ease;
      position: relative;
    }

    .result-tool:hover {
      border-color: var(--accent-secondary);
      transform: translateY(-4px);
      box-shadow: var(--shadow-md);
    }

    .result-tool-icon {
      width: 56px;
      height: 56px;
      background: var(--premium-bg);
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.3);
    }

    .result-tool-icon svg {
      width: 28px;
      height: 28px;
      stroke: white;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .result-tool-content {
      flex: 1;
    }

    .result-tool-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 6px;
      color: var(--text-primary);
    }

    .result-tool-description {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    .result-tool-badge {
      padding: 6px 12px;
      background: var(--premium-bg);
      color: white;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-radius: 16px;
      flex-shrink: 0;
    }

    .result-tool-badge.free {
      background: #10b981;
    }

    .combo-suggestion {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 24px;
    }

    .combo-suggestion-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
    }

    .combo-badge-small {
      padding: 4px 10px;
      background: var(--premium-bg);
      color: white;
      font-size: 11px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
    }

    .combo-suggestion-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--text-primary);
      flex: 1;
    }

    .combo-suggestion-tools {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
      flex-wrap: wrap;
    }

    .combo-tool-small {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .combo-tool-icon-small {
      width: 20px;
      height: 20px;
      background: var(--premium-bg);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .combo-tool-icon-small svg {
      width: 12px;
      height: 12px;
      stroke: white;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    .combo-plus-small {
      font-size: 16px;
      font-weight: 700;
      color: var(--accent-secondary);
    }

    .combo-suggestion-description {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.6;
      margin-bottom: 12px;
    }

    .combo-suggestion-steps {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .combo-step-small {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
      color: var(--text-primary);
    }

    .step-number-small {
      width: 22px;
      height: 22px;
      background: var(--premium-bg);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      flex-shrink: 0;
      box-shadow: 0 2px 6px rgba(102, 126, 234, 0.3);
    }

    .quiz-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .quiz-actions .btn {
      min-width: 160px;
    }

    /* ===== RESPONSIVIDADE ===== */
    @media (min-width: 768px) and (max-width: 1023px) {
      .tools-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (min-width: 1024px) {
      .tools-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }

    @media (max-width: 768px) {
      body {
        padding-left: 0;
        padding-bottom: 20px;
      }

    .hero-logo {
        height: 60px;
        max-width: 280px;
    }
    
    .hero-logo-container {
        margin-bottom: 30px;
    }
    
    .hero {
        padding: 40px 0 60px;
    }

      .sidebar {
        left: -280px;
        top: 0;
        bottom: 0;
        width: 280px;
        height: 100vh;
        flex-direction: column;
        border-radius: 0 24px 24px 0;
        padding: 16px 0;
        overflow-x: hidden;
        overflow-y: auto;
        transform: translateX(0);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        z-index: 2000;
        box-shadow: var(--shadow-xl);
      }

      .sidebar.active {
        transform: translateX(280px);
      }

      .sidebar-logo {
        margin: 0 auto 16px;
        flex-shrink: 0;
      }

      .sidebar-nav {
        flex-direction: column;
        padding: 0 14px;
        margin: 0;
        overflow-x: hidden;
        overflow-y: auto;
        gap: 4px;
      }

      .sidebar:hover .sidebar-item {
        width: 248px;
      }

      .sidebar .sidebar-item-text {
        opacity: 1;
        visibility: visible;
      }

      .sidebar .sidebar-badge {
        position: static;
        margin-left: auto;
      }

      .sidebar-footer {
        flex-direction: column;
        border-top: 1px solid var(--border-color);
        border-left: none;
        padding-top: 12px;
        padding-left: 0;
        margin-top: 8px;
        margin-left: 0;
        padding: 12px 14px 0 14px;
        gap: 4px;
      }

      .mobile-sidebar-toggle {
        display: flex;
      }

      .hero {
        padding: 80px 0 60px;
      }

      .hero h1 {
        font-size: 38px;
        letter-spacing: -1px;
      }

      .hero p {
        font-size: 18px;
      }

      .section-header h2 {
        font-size: 30px;
      }

      .tool-card {
        padding: 28px;
      }

      .btn {
        padding: 14px 28px;
      }

      .footer-content {
        grid-template-columns: 1fr;
        gap: 32px;
      }

      .pwa-install-banner {
        bottom: 96px;
        width: calc(100% - 32px);
      }

      .pwa-banner-content {
        padding: 16px 20px;
        gap: 12px;
      }

      .pwa-banner-icon {
        width: 40px;
        height: 40px;
      }

      .pwa-banner-icon svg {
        width: 28px;
        height: 28px;
      }

      .pwa-banner-title {
        font-size: 15px;
      }

      .pwa-banner-description {
        font-size: 12px;
      }

      .pwa-install-btn {
        padding: 8px 16px;
        font-size: 13px;
      }
    }

    @media (max-width: 480px) {
      .hero h1 {
        font-size: 28px;
        line-height: 1.2;
      }

      .hero p {
        font-size: 16px;
      }

    .hero-logo {
        height: 50px;
        max-width: 240px;
    }
    
    .hero-logo-container {
        margin-bottom: 25px;
    }

      .btn {
        padding: 12px 20px;
        font-size: 14px;
      }

      .hero-buttons {
        flex-direction: column;
        gap: 12px;
      }

      .hero-buttons .btn {
        width: 100%;
      }

      .section-header h2 {
        font-size: 24px;
      }

      .section-header p {
        font-size: 16px;
      }

      .tool-card {
        padding: 20px;
      }

      .tool-card h3 {
        font-size: 18px;
      }

      .tool-card p {
        font-size: 14px;
      }

      .search-bar input {
        padding: 12px 16px 12px 48px;
        font-size: 14px;
      }

      .category-chip {
        padding: 8px 16px;
        font-size: 12px;
      }
    }

    @media (min-width: 1440px) {
      .container {
        max-width: 1400px;
      }

      .tools-grid {
        grid-template-columns: repeat(5, 1fr);
      }

      .hero h1 {
        font-size: 64px;
      }

      .hero p {
        font-size: 24px;
      }

      .section-header h2 {
        font-size: 42px;
      }

      .section-header p {
        font-size: 20px;
      }
    }

    @media (min-width: 1920px) {
      .container {
        max-width: 1600px;
      }

      .tools-grid {
        grid-template-columns: repeat(6, 1fr);
      }

      .sidebar {
        width: 88px;
      }
    }

   </style>
  
 <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
</head>

<body>

<!-- Accessibility Skip Links -->
  <div class="skip-links">
    <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>
    <a href="#sidebar" class="skip-link">Pular para a navegação</a>
    <a href="#ferramentas" class="skip-link">Pular para as ferramentas</a>
  </div>

  <!-- Sidebar Navigation -->
<!-- Logo -->
  <aside class="sidebar" id="sidebar" role="navigation" aria-label="Navegação principal">
<button class="sidebar-logo" onclick="window.location.href='https://fluxoteca.com.br/'" aria-label="Ir para página inicial da Fluxoteca">
  <svg class="sidebar-logo-svg" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
    <defs>
      <linearGradient id="sidebarLogoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
        <stop offset="50%" style="stop-color:#764ba2;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#4facfe;stop-opacity:1" />
      </linearGradient>
    </defs>

    <!-- “orbe” central -->
    <circle cx="40" cy="40" r="26" fill="rgba(255,255,255,0.14)" />
    <circle cx="40" cy="40" r="16" fill="url(#sidebarLogoGradient)" />
    <circle cx="40" cy="40" r="9" fill="#ffffff" />
    <circle cx="40" cy="40" r="5" fill="url(#sidebarLogoGradient)" />
  </svg>
</button>
    
    <nav class="sidebar-nav">

<!-- Início --> 
      <button type="button" class="sidebar-item" data-page="inicio" aria-label="Ir para a página inicial" aria-current="page">
        <svg viewBox="0 0 24 24">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
          <polyline points="9 22 9 12 15 12 15 22" />
        </svg>
        <span class="sidebar-item-text">Início</span>
      </button>

<!-- Ferramentas / Biblioteca -->      
<button type="button" class="sidebar-item" aria-label="Explorar ferramentas na Biblioteca" onclick="window.location.href='https://fluxoteca.com.br/biblioteca/'">
        <svg viewBox="0 0 24 24">
          <rect x="3" y="3" width="7" height="7" />
          <rect x="14" y="3" width="7" height="7" />
          <rect x="14" y="14" width="7" height="7" />
          <rect x="3" y="14" width="7" height="7" />
        </svg>
        <span class="sidebar-item-text">Ferramentas</span>
      </button>

<!-- Gratuitas -->      
      <button type="button" class="sidebar-item" data-page="gratuitas" aria-label="Abrir biblioteca gratuita">
        <svg viewBox="0 0 24 24">
          <polyline points="20 12 20 22 4 22 4 12" />
          <rect x="2" y="7" width="20" height="5" />
          <line x1="12" y1="22" x2="12" y2="7" />
          <path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z" />
          <path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z" />
        </svg>
        <span class="sidebar-item-text">Gratuitas</span>
        <span class="sidebar-badge free">Free</span>
      </button>

<!-- Prompts PME -->       
      <button type="button" class="sidebar-item" data-page="prompts" aria-label="Abrir o Painel de Prompts">
        <svg viewBox="0 0 24 24">
          <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
        </svg>
        <span class="sidebar-item-text">Prompts PME</span>
        <span class="sidebar-badge">Novo</span>
      </button>

<!-- Blog --> 
      <button type="button" class="sidebar-item" data-page="blog" aria-label="Ler artigos e novidades">
        <svg viewBox="0 0 24 24">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
          <polyline points="14 2 14 8 20 8" />
          <line x1="16" y1="13" x2="8" y2="13" />
          <line x1="16" y1="17" x2="8" y2="17" />
          <polyline points="10 9 9 9 8 9" />
        </svg>
        <span class="sidebar-item-text">Blog</span>
      </button>

 <!-- Sobre -->    
      <button type="button" class="sidebar-item" data-page="sobre" aria-label="Conheça a Fluxoteca">
        <svg viewBox="0 0 24 24">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
          <circle cx="12" cy="7" r="4" />
        </svg>
        <span class="sidebar-item-text">Sobre</span>
      </button>

<!-- Suporte --> 
      <button type="button" class="sidebar-item" data-page="suporte" aria-label="Ajuda e contato">
        <svg viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="10" />
          <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
          <line x1="12" y1="17" x2="12.01" y2="17" />
        </svg>
        <span class="sidebar-item-text">Suporte</span>
      </button>
    </nav>
    
<!-- Voltar Topo --> 
   <div class="sidebar-footer">
<button type="button" class="back-to-top" id="backToTop" aria-label="Voltar ao topo">
     <svg viewbox="0 0 24 24" style="width:20px;height:20px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;"><line x1="12" y1="19" x2="12" y2="5" /> <polyline points="5 12 12 5 19 12" />
     </svg>
</button> 

<!-- Alterar Tema --> 
<button type="button" class="theme-toggle" id="themeToggle" aria-label="Alternar tema claro/escuro">
     <svg id="themeIcon" viewbox="0 0 24 24" style="width:20px;height:20px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;"><circle cx="12" cy="12" r="5" /> <line x1="12" y1="1" x2="12" y2="3" /> <line x1="12" y1="21" x2="12" y2="23" /> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" /> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" /> <line x1="1" y1="12" x2="3" y2="12" /> <line x1="21" y1="12" x2="23" y2="12" /> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" /> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
     </svg>
</button>
   </div>
  </aside>

  <!-- Mobile Navigation -->
  <button type="button" class="mobile-sidebar-toggle" id="mobileSidebarToggle" aria-label="Abrir menu de navegação" aria-expanded="false" aria-controls="sidebar">
    <svg id="mobileMenuIcon" viewBox="0 0 24 24" style="width: 20px; height: 20px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;" role="img" aria-hidden="true">
      <line x1="3" y1="12" x2="21" y2="12" />
      <line x1="3" y1="6" x2="21" y2="6" />
      <line x1="3" y1="18" x2="21" y2="18" />
    </svg>
  </button>

  <!-- Mobile Overlay -->
  <div class="mobile-sidebar-overlay" id="mobileSidebarOverlay" style="display: none;"></div>

  <!-- PWA Install Banner -->
  <div class="pwa-install-banner" id="pwaInstallBanner" style="display: none;">
    <div class="pwa-banner-content">
      <div class="pwa-banner-icon">
        <svg viewBox="0 0 40 40" fill="none" style="width: 32px; height: 32px;">
          <path d="M8 12 L20 6 L32 12 L32 28 L20 34 L8 28 Z" fill="url(#pwaGrad)" opacity="0.3" />
          <path d="M20 6 L20 20" stroke="url(#pwaGrad)" stroke-width="2.5" stroke-linecap="round" />
          <path d="M8 12 L20 20 L32 12" stroke="url(#pwaGrad)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
          <circle cx="20" cy="20" r="3" fill="url(#pwaGrad)" />
          <defs>
            <linearGradient id="pwaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
            </linearGradient>
          </defs>
        </svg>
      </div>
      
      <div class="pwa-banner-text">
        <div class="pwa-banner-title">Instalar Fluxoteca</div>
        <div class="pwa-banner-description">Acesse offline e tenha sempre à mão</div>
      </div>
      
      <button type="button" class="pwa-install-btn" id="pwaInstallBtn">Instalar</button>
      
      <button type="button" class="pwa-close-btn" id="pwaCloseBtn" aria-label="Fechar">
        <svg viewBox="0 0 24 24" style="width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round;">
          <line x1="18" y1="6" x2="6" y2="18" />
          <line x1="6" y1="6" x2="18" y2="18" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Quiz Modal -->
  <div class="quiz-modal" id="quizModal" role="dialog" aria-labelledby="quizTitle" aria-modal="true">
    <div class="quiz-container">
      <div class="quiz-header">
        <button type="button" class="quiz-close" id="closeQuizBtn" aria-label="Fechar quiz">
          <svg viewBox="0 0 24 24">
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
        
        <div class="quiz-progress" id="quizProgress">
          <div class="progress-dot active"></div>
          <div class="progress-dot"></div>
          <div class="progress-dot"></div>
        </div>

        <h2 id="quizTitle">Qual ferramenta você precisa?</h2>
        <p>Responda 3 perguntas rápidas e descubra as ferramentas ideais para o seu momento</p>
      </div>
      
      <div class="quiz-body" id="quizBody">
        <!-- Question 1 -->
        <div class="quiz-question active" data-question="1">
          <h3 class="question-title">Em qual área você precisa de mais clareza agora?</h3>
          <div class="quiz-options">
            <div class="quiz-option" data-answer="fluxo-caixa">
              <div class="option-icon">
                <svg viewBox="0 0 24 24">
                  <line x1="12" y1="1" x2="12" y2="23" />
                  <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
                </svg>
              </div>
              <div class="option-content">
                <div class="option-title">Fluxo de Caixa e Cobrança</div>
                <div class="option-description">Controlar entradas/saídas e reduzir inadimplência</div>
              </div>
            </div>
            
            <div class="quiz-option" data-answer="processos-time">
              <div class="option-icon">
                <svg viewBox="0 0 24 24">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                  <circle cx="9" cy="7" r="4" />
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                  <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                </svg>
              </div>
              <div class="option-content">
                <div class="option-title">Processos da Equipe</div>
                <div class="option-description">Otimizar como sua equipe trabalha e se comunica</div>
              </div>
            </div>
            
            <div class="quiz-option" data-answer="operacao-escala">
              <div class="option-icon">
                <svg viewBox="0 0 24 24">
                  <line x1="16.5" y1="9.4" x2="7.5" y2="4.21" />
                  <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
                  <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
                  <line x1="12" y1="22.08" x2="12" y2="12" />
                </svg>
              </div>
              <div class="option-content">
                <div class="option-title">Operação em Escala</div>
                <div class="option-description">Gestão de estoque, produção e logística com crescimento</div>
              </div>
            </div>
            
            <div class="quiz-option" data-answer="decisoes-dados">
              <div class="option-icon">
                <svg viewBox="0 0 24 24">
                  <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" />
                  <polyline points="17 6 23 6 23 12" />
                </svg>
              </div>
              <div class="option-content">
                <div class="option-title">Decisões com Dados</div>
                <div class="option-description">Usar análises e IA para direcionar o negócio</div>
              </div>
            </div>
          </div>
        </div>

<!-- Question 2 -->
     <div class="quiz-question" data-question="2">
      <h3 class="question-title">Qual é a sua prioridade?</h3>
      <div class="quiz-options">
       <div class="quiz-option" data-answer="rapido">
        <div class="option-icon">
         <svg viewbox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
         </svg>
        </div>
        <div class="option-content">
         <div class="option-title">
          Resolver rápido
         </div>
         <div class="option-description">
          Preciso de algo pronto para usar agora
         </div>
        </div>
       </div>
       <div class="quiz-option" data-answer="aprender">
        <div class="option-icon">
         <svg viewbox="0 0 24 24"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20" /> <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" />
         </svg>
        </div>
        <div class="option-content">
         <div class="option-title">
          Aprender o processo
         </div>
         <div class="option-description">
          Quero entender como fazer e aplicar no meu contexto
         </div>
        </div>
       </div>
       <div class="quiz-option" data-answer="automatizar">
        <div class="option-icon">
         <svg viewbox="0 0 24 24"><circle cx="12" cy="12" r="3" /> <path d="M12 1v6m0 6v6" /> <path d="M17 7l-5 5m0 0l-5-5" />
         </svg>
        </div>
        <div class="option-content">
         <div class="option-title">
          Automatizar rotina
         </div>
         <div class="option-description">
          Quero algo que funcione sozinho ou com pouca manutenção
         </div>
        </div>
       </div>
      </div>
     </div>

<!-- Question 3 -->
     <div class="quiz-question" data-question="3">
      <h3 class="question-title">Qual é o seu nível de experiência?</h3>
      <div class="quiz-options">
       <div class="quiz-option" data-answer="iniciante">
        <div class="option-icon">
         <svg viewbox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5z" /> <path d="M2 17l10 5 10-5M2 12l10 5 10-5" />
         </svg>
        </div>
        <div class="option-content">
         <div class="option-title">
          Iniciante
         </div>
         <div class="option-description">
          Estou começando, preciso de algo simples e guiado
         </div>
        </div>
       </div>
       <div class="quiz-option" data-answer="intermediario">
        <div class="option-icon">
         <svg viewbox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5z" /> <path d="M2 17l10 5 10-5" />
         </svg>
        </div>
        <div class="option-content">
         <div class="option-title">
          Intermediário
         </div>
         <div class="option-description">
          Já tenho experiência, quero otimizar processos
         </div>
        </div>
       </div>
       <div class="quiz-option" data-answer="avancado">
        <div class="option-icon">
         <svg viewbox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5z" />
         </svg>
        </div>
        <div class="option-content">
         <div class="option-title">
          Avançado
         </div>
         <div class="option-description">
          Domino o tema, busco ferramentas sofisticadas
         </div>
        </div>
       </div>
      </div>
     </div>

        <!-- Result Section -->
        <div class="quiz-result" id="quizResult">
          <div class="result-icon">
            <svg viewBox="0 0 24 24">
              <polyline points="20 6 9 17 4 12" />
            </svg>
          </div>
          
          <h3 class="result-title" id="resultTitle">Ferramentas recomendadas para você</h3>
          <p class="result-description" id="resultDescription">Com base nas suas respostas, estas são as melhores ferramentas para o seu momento:</p>
          
          <div class="result-tools" id="resultTools">
            <!-- Tools dynamically inserted here -->
          </div>
          
          <div class="result-combination" id="resultCombination" style="display: none;">
            <div style="margin: 32px 0 20px; padding-top: 24px; border-top: 1px solid var(--border-color);">
              <h4 style="font-size: 18px; font-weight: 700; margin-bottom: 12px; color: var(--text-primary); text-align: left;">
                💡 Dica: Combine ferramentas para melhores resultados
              </h4>
            </div>
            <div class="combo-suggestion" id="comboSuggestion">
              <!-- Combination dynamically inserted here -->
            </div>
          </div>
          
          <div class="quiz-actions">
            <button type="button" class="btn btn-primary" id="startToolsBtn">Ver todas as ferramentas</button>
            <button type="button" class="btn btn-secondary" id="restartQuizBtn">Refazer quiz</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <main id="main-content" role="main">
    <!-- Hero Section -->
    <section class="hero" aria-labelledby="hero-heading">
      <div class="container">
        <div class="hero-content">
          <div class="hero-logo-container">
            <svg class="hero-logo" viewBox="0 0 360 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="heroPrimaryGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#764ba2;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#4facfe;stop-opacity:1" />
                        </linearGradient>
                        
                        <linearGradient id="heroTextGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#1a1a1a;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#1a1a1a;stop-opacity:1" />
                        </linearGradient>
                        
                        <filter id="heroShadow" x="-20%" y="-20%" width="140%" height="140%">
                            <feDropShadow dx="2" dy="3" stdDeviation="6" flood-color="#667eea" flood-opacity="0.1"/>
                        </filter>
                    </defs>
                    
                    <g transform="translate(25, 20)" filter="url(#heroShadow)">
                        <circle cx="40" cy="30" r="25" fill="url(#heroPrimaryGradient)" opacity="0.08"/>
                        <circle cx="40" cy="30" r="14" fill="url(#heroPrimaryGradient)" opacity="0.95" />
                        <circle cx="40" cy="30" r="9" fill="white" opacity="0.95" />
                        <circle cx="40" cy="30" r="5" fill="url(#heroPrimaryGradient)" opacity="0.8" />                        
                    </g>
                    
                    <g transform="translate(120, 20)">
                        <text x="0" y="35" font-family="Inter, -apple-system, BlinkMacSystemFont, sans-serif" 
                              font-size="40" font-weight="700" fill="url(#heroTextGradient)" 
                              letter-spacing="-0.25px" text-anchor="start">
                            Fluxoteca
                        </text>
                        <text x="0" y="60" font-family="Inter, -apple-system, BlinkMacSystemFont, sans-serif" 
                              font-size="18" font-weight="500" fill="#667eea" 
                              letter-spacing="0.4px" text-anchor="start" opacity="0.8">
                            Ferramentas para PMEs
                        </text>
                    </g>
            </svg>
          </div>
          
          <h1 id="hero-heading">Ferramentas inteligentes. Clareza para decidir. Processos para delegar.</h1>
          <p id="heroSubtitle"> A Fluxoteca é um ecossistema de ferramentas inteligentes para PMEs que precisam organizar finanças, processos e rotinas sem curso interminável.</p>
          
          <div class="hero-buttons">
            <button type="button" class="btn btn-primary" onclick="window.open('https://fluxoteca.com.br/biblioteca/', '_blank', 'noopener,noreferrer')" aria-describedby="heroSubtitle">
              Acessar a Biblioteca Completa
            </button>
            <button type="button" class="btn btn-secondary" id="openQuizBtn" aria-describedby="quiz-description">
              Descubra a Ferramenta Ideal
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Tools Section -->
<section id="ferramentas">
  <div class="container">
    <div class="section-header">
      <h2 id="toolsTitle">Ferramentas em destaque</h2>
      <p id="toolsSubtitle">Escolha o que você precisa agora e use do seu jeito. Tudo é direto ao ponto e orientado para ação.</p>
    </div>
    
    <!-- Search and Filter -->
    <div class="search-section" role="search" aria-label="Buscar e filtrar ferramentas">
      <div class="search-bar">
        <span class="search-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24" role="img">
            <circle cx="11" cy="11" r="8" />
            <path d="m21 21-4.35-4.35" />
          </svg>
        </span>
        <input type="text" id="searchInput" 
               placeholder="Busque por &quot;estoque&quot;, &quot;precificação&quot;, &quot;fechamento&quot;" 
               aria-label="Buscar ferramentas por nome ou categoria" 
               aria-describedby="search-help" 
               autocomplete="off" 
               spellcheck="false">
      </div>
      
      <div class="categories" role="tablist" aria-label="Filtros de categoria">
        <button type="button" class="category-chip active" data-filter="todos" role="tab" aria-selected="true" aria-controls="toolsGrid">
          Todos
        </button>
        <button type="button" class="category-chip" data-filter="processos" role="tab" aria-selected="false" aria-controls="toolsGrid">
          Processos
        </button>
        <button type="button" class="category-chip" data-filter="financas" role="tab" aria-selected="false" aria-controls="toolsGrid">
          Finanças
        </button>
        <button type="button" class="category-chip" data-filter="estoque-operacoes" role="tab" aria-selected="false" aria-controls="toolsGrid">
          Estoque e Operações
        </button>
        <button type="button" class="category-chip" data-filter="ia-aplicada" role="tab" aria-selected="false" aria-controls="toolsGrid">
          IA aplicada
        </button>
        <button type="button" class="category-chip" data-filter="modelos-manuais" role="tab" aria-selected="false" aria-controls="toolsGrid">
          Modelos e Manuais
        </button>
      </div>
    </div>
    
    <!-- Tools Carousel -->
    <div class="carousel-container">
      <div class="carousel-wrapper">
        <div class="tools-carousel" id="toolsCarousel">
          <div class="tools-grid" id="toolsGrid" role="region" aria-label="Grade de ferramentas disponíveis">
            
            <!-- Tool Card 1: Prompts Inteligentes -->
<article class="tool-card" 
         data-category="ia-aplicada"
         data-url="https://fluxoteca.com.br/prompts-pme/"
         role="article"
         tabindex="0"
         aria-labelledby="tool-1-title"
         aria-describedby="tool-1-desc">
              <div class="tool-badges" aria-label="Badges da ferramenta">
                <div class="tool-badge premium" aria-label="Ferramenta premium">Premium</div>
                <div class="tool-badge new" aria-label="Ferramenta nova">Novo</div>
              </div>
              
              <div class="tool-icon" aria-hidden="true">
                <svg viewBox="0 0 64 64" fill="none" role="img">
                  <circle cx="32" cy="32" r="28" fill="url(#grad1)" opacity="0.2" />
                  <path d="M32 12 L38 24 L50 26 L41 35 L43 47 L32 41 L21 47 L23 35 L14 26 L26 24 Z" 
                        fill="white" stroke="white" stroke-width="1.5" stroke-linejoin="round" />
                  <circle cx="32" cy="32" r="6" fill="white" opacity="0.8" />
                  <path d="M32 20 L32 28 M32 36 L32 44 M20 32 L28 32 M36 32 L44 32" 
                        stroke="white" stroke-width="2" stroke-linecap="round" />
                  <defs>
                    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:white;stop-opacity:0.3" />
                      <stop offset="100%" style="stop-color:white;stop-opacity:0.1" />
                    </linearGradient>
                  </defs>
                </svg>
              </div>              
              <h3 id="tool-1-title">Prompts Inteligentes para PMEs</h3>
              <p id="tool-1-desc">O painel que transforma boas perguntas em decisões e entregas profissionais.</p>
              <button type="button" class="btn btn-primary" aria-describedby="tool-1-desc">Acessar agora →</button>
            </article>

            <!-- Tool Card 2: Manual Aging List -->
<article class="tool-card"
         data-category="financas"
         data-url="https://fluxoteca.com.br/biblioteca/"
         role="article"
         tabindex="0">
              <div class="tool-badges">
                <div class="tool-badge free">Gratuito</div>
                <div class="tool-badge new">Novo</div>
              </div>
              
              <div class="tool-icon" aria-hidden="true">
                <svg viewBox="0 0 64 64" fill="none">
                  <rect x="12" y="18" width="40" height="34" rx="4" fill="white" opacity="0.2" />
                  <rect x="18" y="28" width="6" height="16" rx="2" fill="white" />
                  <rect x="29" y="22" width="6" height="22" rx="2" fill="white" opacity="0.8" />
                  <rect x="40" y="32" width="6" height="12" rx="2" fill="white" opacity="0.6" />
                  <path d="M16 24 L48 24" stroke="white" stroke-width="2" stroke-linecap="round" stroke-dasharray="2 3" />
                  <circle cx="50" cy="18" r="8" fill="white" opacity="0.9" />
                  <path d="M47 18 L49 20 L53 16" stroke="url(#grad2)" stroke-width="2" 
                        stroke-linecap="round" stroke-linejoin="round" />
                  <defs>
                    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              
              <h3>Manual Aging List</h3>
              <p>Controle de inadimplência com previsibilidade</p>
              <button type="button" class="btn btn-primary">Usar grátis →</button>
            </article>

            <!-- Tool Card 3: Guia Variação Cambial CP-->
<article class="tool-card" data-category="financas" role="article" tabindex="0">
              <div class="tool-badges">
                <div class="tool-badge free">Gratuito</div>
              </div>
              
              <div class="tool-icon" aria-hidden="true">
                <svg viewBox="0 0 64 64" fill="none">
                  <circle cx="32" cy="32" r="24" fill="white" opacity="0.2" />
                  <path d="M32 16 L32 48" stroke="white" stroke-width="3" stroke-linecap="round" />
                  <path d="M38 22 L28 22 C24 22 24 28 28 28 L36 28 C40 28 40 34 36 34 L26 34" 
                        stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M20 38 L26 44 L20 50" stroke="white" stroke-width="2" 
                        stroke-linecap="round" stroke-linejoin="round" opacity="0.7" />
                  <path d="M44 14 L38 20 L44 26" stroke="white" stroke-width="2" 
                        stroke-linecap="round" stroke-linejoin="round" opacity="0.7" />
                  <circle cx="48" cy="48" r="3" fill="white" />
                  <circle cx="16" cy="16" r="3" fill="white" opacity="0.6" />
                </svg>
              </div>
              
              <h3>Guia Variação Cambial - Contas a Pagar</h3>
              <p>Evite erros na variação cambial e padronize o passo a passo do lançamento contábil.</p>
              <button type="button" class="btn btn-primary">Usar grátis →</button>
            </article>

            <!-- Tool Card 4: Ferramenta R2R -->
<article class="tool-card"
         data-category="processos"
         data-url="https://fluxoteca.com.br/biblioteca/"
         role="article"
         tabindex="0">
              <div class="tool-badges">
                <div class="tool-badge construction">Em construção</div>
              </div>
              
              <div class="tool-icon" aria-hidden="true">
                <svg viewBox="0 0 64 64" fill="none">
                  <circle cx="32" cy="32" r="26" stroke="white" stroke-width="2" 
                          stroke-dasharray="4 4" opacity="0.3" />
                  <path d="M32 12 L32 32 L44 32" stroke="white" stroke-width="3" 
                        stroke-linecap="round" stroke-linejoin="round" />
                  <circle cx="32" cy="32" r="4" fill="white" />
                  <path d="M48 20 C48 20 52 24 48 28" stroke="white" stroke-width="2" 
                        stroke-linecap="round" opacity="0.7" />
                  <path d="M16 44 C16 44 12 40 16 36" stroke="white" stroke-width="2" 
                        stroke-linecap="round" opacity="0.7" />
                  <rect x="22" y="48" width="20" height="8" rx="2" fill="white" opacity="0.6" />
                  <rect x="38" y="8" width="18" height="6" rx="2" fill="white" opacity="0.8" />
                  <circle cx="14" cy="18" r="2" fill="white" opacity="0.5" />
                  <circle cx="50" cy="46" r="2" fill="white" opacity="0.5" />
                </svg>
              </div>
              
              <h3>Fechamento Contábil (R2R)</h3>
              <p><p>Fechamento contábil do pedido ao relatório, com visão por etapas e alertas de riscos mais comuns.</p>
</p>
              <button type="button" class="btn btn-secondary">Avisar quando lançar</button>
            </article>

            <!-- Tool Card 5: Controle de Estoque -->
<article class="tool-card"
         data-category="estoque-operacoes"
         data-url="https://fluxoteca.com.br/biblioteca/"
         role="article"
         tabindex="0">
              <div class="tool-badges">
                <div class="tool-badge premium">Premium</div>
              </div>
              
              <div class="tool-icon" aria-hidden="true">
                <svg viewBox="0 0 64 64" fill="none">
                  <path d="M32 10 L52 20 L52 44 L32 54 L12 44 L12 20 Z" 
                        fill="white" opacity="0.2" stroke="white" stroke-width="2" stroke-linejoin="round" />
                  <path d="M12 20 L32 30 L52 20" stroke="white" stroke-width="2.5" 
                        stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M32 30 L32 54" stroke="white" stroke-width="2.5" stroke-linecap="round" />
                  <rect x="26" y="36" width="12" height="10" rx="1" fill="white" opacity="0.8" />
                  <rect x="20" y="24" width="8" height="8" rx="1" fill="white" opacity="0.6" />
                  <rect x="36" y="24" width="8" height="8" rx="1" fill="white" opacity="0.6" />
                  <circle cx="50" cy="14" r="6" fill="white" />
                  <path d="M48 14 L49.5 15.5 L52 13" stroke="url(#grad3)" stroke-width="1.5" 
                        stroke-linecap="round" stroke-linejoin="round" />
                  <defs>
                    <linearGradient id="grad3" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              
              <h3>Controle de Estoque</h3>
              <p>Gerencie entrada, saída e níveis mínimos de produtos com alertas automáticos.</p>
              <button type="button" class="btn btn-primary">Acessar Premium →</button>
            </article>

            <!-- Tool Card 6: Template de Processos -->
<article class="tool-card"
         data-category="modelos-manuais"
         data-url="https://fluxoteca.com.br/biblioteca/"
         role="article"
         tabindex="0">
              <div class="tool-badges">
                <div class="tool-badge free">Gratuito</div>
              </div>
              
              <div class="tool-icon" aria-hidden="true">
                <svg viewBox="0 0 64 64" fill="none">
                  <rect x="16" y="8" width="32" height="48" rx="3" fill="white" opacity="0.2" />
                  <path d="M28 8 L28 18 L38 18" stroke="white" stroke-width="2" 
                        stroke-linecap="round" stroke-linejoin="round" />
                  <rect x="22" y="26" width="20" height="2" rx="1" fill="white" opacity="0.9" />
                  <rect x="22" y="32" width="20" height="2" rx="1" fill="white" opacity="0.7" />
                  <rect x="22" y="38" width="14" height="2" rx="1" fill="white" opacity="0.7" />
                  <rect x="22" y="44" width="18" height="2" rx="1" fill="white" opacity="0.5" />
                  <circle cx="48" cy="48" r="10" fill="white" opacity="0.9" />
                  <path d="M44 48 L47 51 L52 46" stroke="url(#grad4)" stroke-width="2" 
                        stroke-linecap="round" stroke-linejoin="round" />
                  <defs>
                    <linearGradient id="grad4" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              
              <h3>Template de Processos</h3>
              <p>Modelos prontos para documentar e padronizar processos da sua empresa.</p>
              <button type="button" class="btn btn-primary">Baixar grátis →</button>
            </article>

            <!-- Tool Card 7: Mapeamento de Fluxo -->
<article class="tool-card"
         data-category="processos"
         data-url="https://fluxoteca.com.br/biblioteca/"
         role="article"
         tabindex="0">
              <div class="tool-badges">
                <div class="tool-badge free">Gratuito</div>
              </div>
              
              <div class="tool-icon" aria-hidden="true">
                <svg viewBox="0 0 64 64" fill="none">
                  <circle cx="32" cy="32" r="26" stroke="white" stroke-width="2" opacity="0.3" />
                  <circle cx="32" cy="32" r="6" fill="white" />
                  <circle cx="32" cy="12" r="4" fill="white" opacity="0.7" />
                  <circle cx="32" cy="52" r="4" fill="white" opacity="0.7" />
                  <circle cx="12" cy="32" r="4" fill="white" opacity="0.7" />
                  <circle cx="52" cy="32" r="4" fill="white" opacity="0.7" />
                  <path d="M32 18 L32 26" stroke="white" stroke-width="2" />
                  <path d="M32 38 L32 46" stroke="white" stroke-width="2" />
                  <path d="M18 32 L26 32" stroke="white" stroke-width="2" />
                  <path d="M38 32 L46 32" stroke="white" stroke-width="2" />
                  <path d="M22 22 L27 27" stroke="white" stroke-width="1.5" opacity="0.5" />
                  <path d="M42 42 L37 37" stroke="white" stroke-width="1.5" opacity="0.5" />
                </svg>
              </div>
              
<h3>Mapeamento de Fluxo</h3>
<p>Visualize e otimize os fluxos de trabalho, deixando claro quem faz o quê e em qual ordem.</p>
<button type="button" class="btn btn-primary">Começar grátis →</button>
            </article>

          </div>
        </div>

<div id="toolsEmptyState" class="tools-empty-state" style="display: none;">
  Nenhuma ferramenta encontrada para esse filtro. Tente outro termo ou categoria.
</div>
        
        <!-- Carousel Controls -->
        <button type="button" class="carousel-btn carousel-prev" aria-label="Ferramentas anteriores">
          <svg viewBox="0 0 24 24">
            <polyline points="15 18 9 12 15 6" />
          </svg>
        </button>
        
        <button type="button" class="carousel-btn carousel-next" aria-label="Próximas ferramentas">
          <svg viewBox="0 0 24 24">
            <polyline points="9 18 15 12 9 6" />
          </svg>
        </button>
      </div>
      
      <!-- Carousel Indicators -->
      <div class="carousel-indicators" id="carouselIndicators"></div>
    </div>
    
    <!-- Catalog CTA -->
    <div class="catalog-cta-section">
      <button type="button" id="catalogCtaBtn" class="btn btn-primary catalog-cta-btn" 
              onclick="window.open('https://fluxoteca.com.br/biblioteca/', '_blank', 'noopener,noreferrer')">
        <span>Explorar Todas as Ferramentas</span>
        <svg viewBox="0 0 24 24">
          <polyline points="9 18 15 12 9 6" />
        </svg>
      </button>
      <p class="catalog-cta-description">Acesse todas as ferramentas, tutoriais e recursos disponíveis</p>
    </div>
  </div>
</section>

    <!-- Blog Section -->
    <section id="blog">
      <div class="container">

        <div class="section-header">
          <h2 id="blogTitle">Blog</h2>
          <p id="blogSubtitle">Artigos curtos, focados em destravar fechamentos, rotinas financeiras e decisões do dia a dia.</p>
        </div>        
<div class="blog-grid">

<!-- Artigo 1 -->
      <article class="blog-card" data-url="https://fluxoteca.com.br/blog/">
       <div class="blog-card-header"><span class="badge badge-category">Fechamento &amp; Contabilidade</span>
       </div>
       <h3>Como ganhar tempo no fechamento sem surtar na última semana do mês</h3>
       <p class="blog-description">Um roteiro enxuto para tirar o fechamento do modo "apaga-incêndio" e distribuir o trabalho ao longo do mês, usando o que você já tem no ERP e na equipe.</p>
       <div class="blog-meta"><span>📖 Leitura rápida · 6 minutos</span>
          </article>

<!-- Artigo 2 -->
      <article class="blog-card" data-url="https://fluxoteca.com.br/blog/">
       <div class="blog-card-header"><span class="badge badge-category">ERP &amp; Integrações</span>
       </div>
       <h3>Quando o problema não é o ERP: ruídos entre compras, estoque, fiscal e contabilidade</h3>
       <p class="blog-description">Como mapear onde o dado "entorta" no caminho, antes de culpar o sistema, e criar combinados simples entre as áreas para reduzir ajustes manuais.</p>
       <div class="blog-meta"><span>📖 Leitura rápida · 7 minutos</span>
       </div>
      </article>
 </div>

<div class="view-all-blog"> 
<button type="button" id="viewAllBlogBtn" class="btn btn-primary">
  Ler mais artigos →
</button>
</div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
     <div class="footer-column">
      <h4>Fluxoteca</h4>
      <ul>
       <li><a href="#sobre">Sobre</a></li>
       <li><a href="#contato">Contato</a></li>
       <li><a href="#politicas">Políticas</a></li>
       <li><a href="#" id="footerQuizLink">Quiz: Descubra sua ferramenta</a></li>
      </ul>
     </div>
     <div class="footer-column">
      <h4>Ferramentas</h4>
      <ul>
       <li><a href="https://fluxoteca.com.br/prompts-pme/" target="_blank" rel="noopener noreferrer">Prompts PMEs</a></li>
       <li><a href="https://fluxoteca.com.br/aging-list/" target="_blank" rel="noopener noreferrer">Manual Aging List</a></li>
       <li><a href="https://fluxoteca.com.br/variacao-cambial/" target="_blank" rel="noopener noreferrer">Guia Variação Cambial</a></li>
       <li><a href="https://fluxoteca.com.br/ferramenta/" target="_blank" rel="noopener noreferrer">Controle de Estoque</a></li>
       <li><a href="#fechamento">Ferramenta R2R</a></li>
      </ul>
     </div>
    <div class="footer-column">
  <h4>Recursos</h4>
  <ul>
<li><a href="https://fluxoteca.com.br/blog/">Blog</a></li>
    <li><a href="#" id="footerPWALink" class="pwa-install-trigger">📱 Instalar App</a></li>
    <li><a href="https://fluxoteca.com.br/biblioteca/" target="_blank" rel="noopener noreferrer">Biblioteca</a></li>
  </ul>
</div>
     <div class="footer-column">
      <h4>Ajuda</h4>
      <ul>
       <li><a href="#suporte">Suporte</a></li>
       <li><a href="#faq">Perguntas frequentes</a></li>
       <li><a href="#" id="footerThemeLink">Alternar tema</a></li>
       <li><a href="#" id="footerTopLink">Voltar ao topo</a></li>
      </ul>
     </div>
      </div>
      
      <div class="footer-bottom">
        <p>
          © 2025 Fluxoteca. Todos os direitos reservados.<br>
         Ferramentas que economizam tempo, reduzem erro e melhoram a qualidade das decisões.<br>
          Acesse também <a href="https://vanessanovais.com.br" target="_blank" rel="noopener noreferrer">vanessanovais.com.br</a>
        </p>
      </div>
    </div>
  </footer>

  <!-- teste webhook -->
</body>

<script>
(function() {
  'use strict';

// Analytics System
const Analytics = {
    sessionId: null,
    events: [],
    heatmapData: [],
    scrollDepth: 0,
    timeOnPage: 0,
    startTime: Date.now(),
    
    init() {
        this.sessionId = this.generateSessionId();
        this.loadStoredData();
        this.setupTracking();
        this.startTimeTracking();
        console.log('✅ Analytics inicializado');
    },
    
    generateSessionId() {
        return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
    },
    
    loadStoredData() {
        const stored = localStorage.getItem('fluxoteca_analytics');
        if (stored) {
            try {
                const data = JSON.parse(stored);
                this.events = data.events || [];
                this.heatmapData = data.heatmapData || [];
            } catch (e) {
                console.error('Error loading analytics data:', e);
            }
        }
    },
    
    saveData() {
        try {
            localStorage.setItem('fluxoteca_analytics', JSON.stringify({
                events: this.events.slice(-500),
                heatmapData: this.heatmapData.slice(-1000),
                lastUpdated: new Date().toISOString()
            }));
        } catch (e) {
            console.error('Error saving analytics data:', e);
        }
    },
    
    trackEvent(category, action, label = '', value = 0) {
        const event = {
            sessionId: this.sessionId,
            timestamp: new Date().toISOString(),
            category,
            action,
            label,
            value,
            url: window.location.href,
            scrollDepth: this.scrollDepth,
            timeOnPage: Math.floor((Date.now() - this.startTime) / 1000)
        };
        
        this.events.push(event);
        this.saveData();
        console.log('📊 Analytics Event:', event);
    },

    trackCatalogClick() {
        this.trackEvent('Catalog', 'Button Click', 'Explore Full Catalog CTA', 1);
        
        this.trackClick(
            window.innerWidth / 2, 
            window.innerHeight - 100, 
            'Catalog CTA Button', 
            'button'
        );
        
        console.log('📊 Catalog CTA clicked - Analytics tracked');
    },
    
    trackClick(x, y, element, elementType) {
        const clickData = {
            sessionId: this.sessionId,
            timestamp: new Date().toISOString(),
            x,
            y,
            element,
            elementType,
            scrollY: window.scrollY,
            viewportWidth: window.innerWidth,
            viewportHeight: window.innerHeight
        };
        
        this.heatmapData.push(clickData);
        this.saveData();
    },
    
    setupTracking() {
        let maxScroll = 0;
        window.addEventListener('scroll', () => {
            const scrollPercentage = Math.round(
                (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100
            );
            
            if (scrollPercentage > maxScroll) {
                maxScroll = scrollPercentage;
                this.scrollDepth = scrollPercentage;
                
                if (scrollPercentage === 25 || scrollPercentage === 50 || scrollPercentage === 75 || scrollPercentage === 100) {
                    this.trackEvent('Scroll', 'Depth', `${scrollPercentage}%`, scrollPercentage);
                }
            }
        });
        
        document.addEventListener('click', (e) => {
            const element = e.target.closest('button, a, .tool-card, .category-chip, .quiz-option');
            if (element) {
                const elementType = element.tagName.toLowerCase();
                const elementText = element.textContent.trim().substring(0, 50);
                this.trackClick(e.clientX, e.clientY, elementText, elementType);
            }
        });
        
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                this.trackEvent('Page', 'Hidden', '', this.timeOnPage);
            } else {
                this.trackEvent('Page', 'Visible', '', this.timeOnPage);
            }
        });
        
        window.addEventListener('beforeunload', () => {
            this.trackEvent('Page', 'Exit', '', this.timeOnPage);
        });
    },
    
    startTimeTracking() {
        setInterval(() => {
            this.timeOnPage = Math.floor((Date.now() - this.startTime) / 1000);
        }, 1000);
    }
};

// PWA System
const PWA = {
    deferredPrompt: null,
    isInstalled: false,
    
    init() {
        this.checkInstallation();
        this.registerServiceWorker();
        this.setupInstallPrompt();
        this.createManifest();
        console.log('✅ PWA inicializado');
    },
    
    checkInstallation() {
        if (window.matchMedia('(display-mode: standalone)').matches || 
            window.navigator.standalone === true) {
            this.isInstalled = true;
            console.log('✅ PWA is installed');
            Analytics.trackEvent('PWA', 'Running', 'Standalone Mode');
        }
    },
    
    createManifest() {
        const manifest = {
            name: "Fluxoteca - Ferramentas Inteligentes para PMEs",
            short_name: "Fluxoteca",
            description: "Ferramentas inteligentes para PMEs tomarem decisões com clareza",
            start_url: window.location.href,
            display: "standalone",
            background_color: "#ffffff",
            theme_color: "#667eea",
            orientation: "portrait-primary",
            icons: [
                {
                    src: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23667eea'/%3E%3Cstop offset='100%25' style='stop-color:%23764ba2'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='192' height='192' fill='url(%23g)'/%3E%3Cpath d='M38 58 L96 29 L154 58 L154 134 L96 163 L38 134 Z' fill='white' opacity='0.3'/%3E%3Cpath d='M96 29 L96 96' stroke='white' stroke-width='8' stroke-linecap='round'/%3E%3Cpath d='M38 58 L96 96 L154 58' stroke='white' stroke-width='8' stroke-linecap='round' stroke-linejoin='round'/%3E%3Ccircle cx='96' cy='96' r='14' fill='white'/%3E%3Cpath d='M67 115 L67 134 M96 125 L96 144 M125 115 L125 134' stroke='white' stroke-width='6' stroke-linecap='round' opacity='0.8'/%3E%3C/svg%3E",
                    sizes: "192x192",
                    type: "image/svg+xml",
                    purpose: "any maskable"
                }
            ]
        };
        
        const manifestBlob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
        const manifestURL = URL.createObjectURL(manifestBlob);
        const manifestElement = document.getElementById('manifestPlaceholder');
        if (manifestElement) {
            manifestElement.setAttribute('href', manifestURL);
        }
    },
    
    registerServiceWorker() {
         if (window.location.protocol === 'file:') {
    console.log('⚠️ Service Worker skipped - running from file:// protocol');
    return;
  }
        
        if ('serviceWorker' in navigator) {
            const swCode = `
                const CACHE_NAME = 'fluxoteca-v1';
                const urlsToCache = ['/', '/index.html'];

                self.addEventListener('install', (event) => {
                    event.waitUntil(
                        caches.open(CACHE_NAME).then((cache) => {
                            console.log('Cache opened');
                            return cache.addAll(urlsToCache);
                        })
                    );
                });

                self.addEventListener('fetch', (event) => {
                    event.respondWith(
                        caches.match(event.request).then((response) => {
                            if (response) return response;
                            return fetch(event.request);
                        })
                    );
                });

                self.addEventListener('activate', (event) => {
                    const cacheWhitelist = [CACHE_NAME];
                    event.waitUntil(
                        caches.keys().then((cacheNames) => {
                            return Promise.all(
                                cacheNames.map((cacheName) => {
                                    if (cacheWhitelist.indexOf(cacheName) === -1) {
                                        return caches.delete(cacheName);
                                    }
                                })
                            );
                        })
                    );
                });
            `;
            
            const swBlob = new Blob([swCode], { type: 'application/javascript' });
            const swURL = URL.createObjectURL(swBlob);
            
            navigator.serviceWorker.register(swURL)
                .then((registration) => {
                    console.log('✅ Service Worker registered:', registration);
                    Analytics.trackEvent('PWA', 'Service Worker', 'Registered');
                })
                .catch((error) => {
                    console.log('⚠️ Service Worker registration failed:', error.message);
                    Analytics.trackEvent('PWA', 'Service Worker', 'Failed');
                });
        }
    },
    
    setupInstallPrompt() {
        const banner = document.getElementById('pwaInstallBanner');
        const installBtn = document.getElementById('pwaInstallBtn');
        const closeBtn = document.getElementById('pwaCloseBtn');
        
        if (!banner || !installBtn || !closeBtn) {
            console.log('⚠️ PWA elements not found');
            return;
        }
        
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            this.deferredPrompt = e;
            
            const dismissed = localStorage.getItem('pwa_banner_dismissed');
            const dismissedTime = localStorage.getItem('pwa_banner_dismissed_time');
            const sevenDays = 7 * 24 * 60 * 60 * 1000;
            const shouldShow = !dismissed || 
                            (dismissedTime && Date.now() - parseInt(dismissedTime) > sevenDays);
            
            if (shouldShow && !this.isInstalled) {
                setTimeout(() => {
                    banner.style.display = 'block';
                    Analytics.trackEvent('PWA', 'Banner', 'Shown');
                }, 3000);
            }
        });
        
        installBtn.addEventListener('click', async () => {
            if (!this.deferredPrompt) return;
            
            Analytics.trackEvent('PWA', 'Install', 'Button Clicked');
            this.deferredPrompt.prompt();
            
            const { outcome } = await this.deferredPrompt.userChoice;
            if (outcome === 'accepted') {
                console.log('✅ User accepted PWA install');
                Analytics.trackEvent('PWA', 'Install', 'Accepted');
                this.isInstalled = true;
            } else {
                console.log('❌ User dismissed PWA install');
                Analytics.trackEvent('PWA', 'Install', 'Dismissed');
            }
            
            this.deferredPrompt = null;
            banner.style.display = 'none';
        });
        
        closeBtn.addEventListener('click', () => {
            banner.style.display = 'none';
            localStorage.setItem('pwa_banner_dismissed', 'true');
            localStorage.setItem('pwa_banner_dismissed_time', Date.now().toString());
            Analytics.trackEvent('PWA', 'Banner', 'Closed');
        });
        
        window.addEventListener('appinstalled', () => {
            console.log('✅ PWA was installed');
            Analytics.trackEvent('PWA', 'Install', 'Completed');
            this.isInstalled = true;
            if (banner) banner.style.display = 'none';
        });
    },

    // 🆕 FUNÇÃO PARA DETECTAR PLATAFORMA
    getPlatformInstructions() {
        const userAgent = navigator.userAgent.toLowerCase();
        
        if (userAgent.includes('chrome') || userAgent.includes('edg')) {
            return 'chrome';
        } else if (userAgent.includes('safari') && !userAgent.includes('chrome')) {
            return 'safari';
        } else if (userAgent.includes('android')) {
            return 'android';
        } else {
            return 'generic';
        }
    },

    triggerInstall() {
        if (this.deferredPrompt) {
            this.deferredPrompt.prompt();
            
            this.deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('✅ Usuário aceitou a instalação do PWA');
                    Analytics.trackEvent('PWA', 'Install', 'Accepted via Trigger');
                    this.isInstalled = true;
                } else {
                    console.log('❌ Usuário recusou a instalação do PWA');
                    Analytics.trackEvent('PWA', 'Install', 'Dismissed via Trigger');
                }
                this.deferredPrompt = null;
            });
        } else {
            this.showInstallInstructions();
        }
    },

    showInstallInstructions() {
        const platform = this.getPlatformInstructions();
        console.log('📱 Plataforma detectada:', platform);
        
        // Criar modal personalizado
        const modalHTML = `
            <div style="
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.8);
                backdrop-filter: blur(10px);
                z-index: 4000;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 20px;
                opacity: 0;
                transition: opacity 0.3s ease;
            " id="pwaInstructionsModal">
                <div style="
                    background: var(--card-bg);
                    border-radius: 24px;
                    padding: 0;
                    max-width: 500px;
                    width: 100%;
                    max-height: 80vh;
                    overflow-y: auto;
                    box-shadow: var(--shadow-xl);
                    transform: scale(0.9);
                    transition: transform 0.3s ease;
                ">
                    <div style="
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        padding: 32px;
                        text-align: center;
                        position: relative;
                        overflow: hidden;
                    ">
                        <div style="
                            width: 80px;
                            height: 80px;
                            background: rgba(255, 255, 255, 0.2);
                            border-radius: 20px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            margin: 0 auto 20px;
                            font-size: 40px;
                        ">📱</div>
                        <h2 style="
                            font-size: 28px;
                            font-weight: 800;
                            color: white;
                            margin-bottom: 12px;
                        ">Instalar Fluxoteca</h2>
                        <p style="color: rgba(255, 255, 255, 0.9); margin: 0;">
                            Tenha acesso rápido como app nativo
                        </p>
                    </div>
                    
                    <div style="padding: 32px;">
                        ${this.getPlatformSpecificContent(platform)}                        
                    
                    <div style="padding: 24px 32px; border-top: 1px solid var(--border-color); background: var(--bg-secondary);">
                        <button type="button" data-role="close-modal" id="closePWAInstructions" style="
                            width: 100%;
                            padding: 16px;
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            border: none;
                            border-radius: 12px;
                            font-size: 16px;
                            font-weight: 700;
                            cursor: pointer;
                            transition: all 0.3s ease;
                        ">Entendi, obrigado! 👍</button>
                    </div>
                </div>
            </div>
        `;

        // Adicionar modal ao DOM
        document.body.insertAdjacentHTML('beforeend', modalHTML);
        
        const modal = document.getElementById('pwaInstructionsModal');
        const closeBtn = document.getElementById('closePWAInstructions');
        
        // Animação de entrada
        requestAnimationFrame(() => {
            modal.style.opacity = '1';
            modal.querySelector('div > div').style.transform = 'scale(1)';
        });
        
        // Fechar modal
        const closeModal = () => {
            modal.style.opacity = '0';
            modal.querySelector('div > div').style.transform = 'scale(0.9)';
            setTimeout(() => {
                modal.remove();
            }, 300);
        };
        
        closeBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });
        
        // Fechar com ESC
        const handleEsc = (e) => {
            if (e.key === 'Escape') closeModal();
        };
        document.addEventListener('keydown', handleEsc);
        
        Analytics.trackEvent('PWA', 'Instructions', `Platform: ${platform}`);
    },

    // 🆕 FUNÇÃO PARA CONTEÚDO ESPECÍFICO POR PLATAFORMA
    getPlatformSpecificContent(platform) {
        const contents = {
            chrome: `
                <div style="margin-bottom: 24px;">
                    <h3 style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 24px;">🌐</span>
                        No Chrome/Edge/Desktop
                    </h3>
                    <div style="background: var(--bg-secondary); border-radius: 12px; padding: 16px;">
                        <p style="color: var(--text-secondary); margin: 0 0 12px 0; font-size: 14px;">
                            <strong>Opção 1:</strong> Procure o ícone de instalação <span style="background: #667eea; color: white; padding: 2px 6px; border-radius: 4px; font-size: 12px;">⬇️</span> na barra de endereços
                        </p>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 14px;">
                            <strong>Opção 2:</strong> Menu <span style="background: var(--border-color); padding: 2px 6px; border-radius: 4px; font-size: 12px;">⋮</span> → "<strong>Instalar Fluxoteca</strong>"
                        </p>
                    </div>
                </div>
            `,
            safari: `
                <div style="margin-bottom: 24px;">
                    <h3 style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 24px;">📱</span>
                        No Safari (iPhone/iPad)
                    </h3>
                    <div style="background: var(--bg-secondary); border-radius: 12px; padding: 16px;">
                        <p style="color: var(--text-secondary); margin: 0 0 8px 0; font-size: 14px;">
                            1. Toque no ícone de compartilhar <span style="font-size: 16px;">⎗</span>
                        </p>
                        <p style="color: var(--text-secondary); margin: 0 0 8px 0; font-size: 14px;">
                            2. Role para baixo
                        </p>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 14px;">
                            3. Toque em "<strong>Adicionar à Tela Inicial</strong>"
                        </p>
                    </div>
                </div>
            `,
            android: `
                <div style="margin-bottom: 24px;">
                    <h3 style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: 16px; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 24px;">🤖</span>
                        No Android/Chrome
                    </h3>
                    <div style="background: var(--bg-secondary); border-radius: 12px; padding: 16px;">
                        <p style="color: var(--text-secondary); margin: 0 0 8px 0; font-size: 14px;">
                            Menu <span style="background: var(--border-color); padding: 2px 6px; border-radius: 4px; font-size: 12px;">⋮</span> → "<strong>Adicionar à tela inicial</strong>"
                        </p>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 14px;">
                            Ou aguarde o banner de instalação automática
                        </p>
                    </div>
                </div>
            `,
            generic: `
                <div style="margin-bottom: 24px;">
                    <h3 style="font-size: 18px; font-weight: 700; color: var(--text-primary); margin-bottom: 16px;">
                        📱 Como instalar
                    </h3>
                    <div style="background: var(--bg-secondary); border-radius: 12px; padding: 16px;">
                        <p style="color: var(--text-secondary); margin: 0 0 8px 0; font-size: 14px;">
                            Procure a opção "Instalar app" ou "Adicionar à tela inicial" no menu do seu navegador.
                        </p>
                        <p style="color: var(--text-secondary); margin: 0; font-size: 14px;">
                            O ícone geralmente fica na barra de endereços ou no menu principal.
                        </p>
                    </div>
                </div>
            `
        };
        
        return contents[platform] || contents.generic;
    }
};

// Quiz System
const QuizSystem = {
    currentQuestion: 1,
    answers: {},
    isActive: false,
    previousFocus: null,
    
    init() {
        this.setupEventListeners();
        console.log('✅ QuizSystem inicializado');
    },
    
    setupEventListeners() {
        const openQuizBtn = document.getElementById('openQuizBtn');
        if (openQuizBtn) {
            openQuizBtn.addEventListener('click', () => {
                this.openQuiz();
            });
        }
        
        const closeQuizBtn = document.getElementById('closeQuizBtn');
        if (closeQuizBtn) {
            closeQuizBtn.addEventListener('click', () => {
                this.closeQuiz();
            });
        }
        
        document.addEventListener('click', (e) => {
            const option = e.target.closest('.quiz-option');
            if (option && this.isActive) {
                const answer = option.dataset.answer;
                this.selectAnswer(answer);
            }
        });
        
        const restartBtn = document.getElementById('restartQuizBtn');
        if (restartBtn) {
            restartBtn.addEventListener('click', () => {
                this.restartQuiz();
            });
        }
        
        const startToolsBtn = document.getElementById('startToolsBtn');
        if (startToolsBtn) {
            startToolsBtn.addEventListener('click', () => {
                this.closeQuiz();
                const ferramentasSection = document.getElementById('ferramentas');
                if (ferramentasSection) {
                    ferramentasSection.scrollIntoView({ behavior: 'smooth' });
                }
            });
        }
        
        const footerQuizLink = document.getElementById('footerQuizLink');
        if (footerQuizLink) {
            footerQuizLink.addEventListener('click', (e) => {
                e.preventDefault();
                this.openQuiz();
            });
        }
    },
    
    openQuiz() {
        const modal = document.getElementById('quizModal');
        if (modal) {
            // Guarda quem estava com foco antes de abrir
            this.previousFocus = document.activeElement;

            modal.classList.add('active');
            this.isActive = true;
            this.currentQuestion = 1;
            this.answers = {};
            this.showQuestion(1);
            Analytics.trackEvent('Quiz', 'Open', 'Modal Aberto');

            // Tenta focar na primeira opção da primeira pergunta
            const firstOption = modal.querySelector('.quiz-question.active .quiz-option input, .quiz-question.active .quiz-option button');
            if (firstOption) {
                firstOption.focus();
            } else {
                modal.focus();
            }
        }
    },
    
    closeQuiz() {
        const modal = document.getElementById('quizModal');
        if (modal) {
            modal.classList.remove('active');
            this.isActive = false;
            Analytics.trackEvent('Quiz', 'Close', 'Modal Fechado');

            // Devolve foco para o elemento que abriu o quiz (botão, link do footer etc)
            if (this.previousFocus && typeof this.previousFocus.focus === 'function') {
                this.previousFocus.focus();
            }
        }
    },
    
    showQuestion(questionNumber) {
        document.querySelectorAll('.quiz-question').forEach(q => {
            q.classList.remove('active');
        });
        
        const result = document.getElementById('quizResult');
        if (result) result.classList.remove('active');
        
        const currentQ = document.querySelector(`[data-question="${questionNumber}"]`);
        if (currentQ) {
            currentQ.classList.add('active');
        }
        
        this.updateProgress(questionNumber);
    },
    
    updateProgress(questionNumber) {
        const dots = document.querySelectorAll('.progress-dot');
        dots.forEach((dot, index) => {
            if (index < questionNumber) {
                dot.classList.add('active');
            } else {
                dot.classList.remove('active');
            }
        });
    },
    
    selectAnswer(answer) {
        this.answers[this.currentQuestion] = answer;
        Analytics.trackEvent('Quiz', 'Answer', `Q${this.currentQuestion}: ${answer}`);
        
        setTimeout(() => {
            if (this.currentQuestion < 3) {
                this.currentQuestion++;
                this.showQuestion(this.currentQuestion);
            } else {
                this.showResult();
            }
        }, 300);
    },
    
    showResult() {
        document.querySelectorAll('.quiz-question').forEach(q => {
            q.classList.remove('active');
        });
        
        const result = document.getElementById('quizResult');
        if (result) {
            result.classList.add('active');
            this.displayRecommendations({
                tools: ['prompts', 'aging', 'cambial', 'estoque'],
                combination: null
            });
        }
        
        Analytics.trackEvent('Quiz', 'Complete', `Respostas: ${Object.values(this.answers).join('-')}`);
    },
    
    displayRecommendations(recommendations) {
        const container = document.getElementById('resultTools');
        if (!container) return;
        
        container.innerHTML = '';
        
        recommendations.tools.forEach(toolId => {
            const toolElement = document.createElement('div');
            toolElement.className = 'result-tool';
            toolElement.style.cursor = 'pointer';
            
            toolElement.addEventListener('click', () => {
                window.open('https://fluxoteca.com.br/biblioteca/', '_blank');
                Analytics.trackEvent('Quiz', 'Tool Click', toolId);
            });
            
            toolElement.innerHTML = `
                <div class="result-tool-icon">
                    <svg viewBox="0 0 24 24">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                    </svg>
                </div>
                <div class="result-tool-content">
                    <div class="result-tool-title">Ferramenta Recomendada</div>
                    <div class="result-tool-description">Baseada nas suas respostas</div>
                </div>
                <div class="result-tool-badge free">Gratuito</div>
            `;
            container.appendChild(toolElement);
        });
    },
    
    restartQuiz() {
        this.currentQuestion = 1;
        this.answers = {};
        this.showQuestion(1);
        Analytics.trackEvent('Quiz', 'Restart', 'Quiz Reiniciado');
    }
};

// Search and Filter System
const SearchSystem = {
    searchInput: null,
    categoryChips: null,
    toolCards: null,
    
    init() {
        this.searchInput = document.getElementById('searchInput');
        this.categoryChips = document.querySelectorAll('.category-chip');
        this.toolCards = document.querySelectorAll('.tool-card');
        
        this.setupEventListeners();
        console.log('✅ SearchSystem inicializado');
    },
    
    setupEventListeners() {
        if (this.searchInput) {
            this.searchInput.addEventListener('input', (e) => {
                this.performSearch(e.target.value);
                Analytics.trackEvent('Search', 'Input', e.target.value);
            });
        }
        
        this.categoryChips.forEach(chip => {
            chip.addEventListener('click', () => {
                this.selectCategory(chip);
                Analytics.trackEvent('Filter', 'Category', chip.dataset.filter);
            });
        });
    },
    
    performSearch(query) {
    const searchTerm = query.toLowerCase().trim();
    let visibleCount = 0;

    this.toolCards.forEach(card => {
        const title = card.querySelector('h3')?.textContent.toLowerCase() || '';
        const description = card.querySelector('p')?.textContent.toLowerCase() || '';
        const category = card.dataset.category || '';
        
        const matches = title.includes(searchTerm) || 
                        description.includes(searchTerm) || 
                        category.includes(searchTerm);
        
        if (matches || searchTerm === '') {
            card.style.display = 'flex';
            card.style.opacity = '1';
            visibleCount++;
        } else {
            card.style.display = 'none';
        }
    });

    // Mostrar ou esconder mensagem de vazio
    const emptyState = document.getElementById('toolsEmptyState');
    if (emptyState) {
        emptyState.style.display = visibleCount === 0 ? 'block' : 'none';
    }
    
    this.updateCarouselAfterSearch();
},
    
    selectCategory(selectedChip) {
        this.categoryChips.forEach(chip => {
            chip.classList.remove('active');
            chip.setAttribute('aria-selected', 'false');
        });
        selectedChip.classList.add('active');
        selectedChip.setAttribute('aria-selected', 'true');
        
        const filter = selectedChip.dataset.filter;
        
        this.toolCards.forEach(card => {
            const category = card.dataset.category;
            if (filter === 'todos' || category === filter) {
                card.style.display = 'flex';
                card.style.opacity = '1';
            } else {
                card.style.display = 'none';
            }
        });
        
        if (this.searchInput) {
            this.searchInput.value = '';
        }
        
        this.updateCarouselAfterSearch();
    },
    
    updateCarouselAfterSearch() {
        if (window.CarouselSystem && typeof window.CarouselSystem.updateTotalSlides === 'function') {
            setTimeout(() => {
                window.CarouselSystem.updateTotalSlides();
                window.CarouselSystem.updateCarousel();
            }, 100);
        }
    }
};

// Sidebar Navigation System
const SidebarSystem = {
    sidebar: null,
    sidebarItems: null,
    mobileToggle: null,
    lastFocusElement: null,
    
    init() {
        this.sidebar = document.getElementById('sidebar');
        this.sidebarItems = document.querySelectorAll('.sidebar-item');
        this.mobileToggle = document.getElementById('mobileSidebarToggle');
        
        this.setupEventListeners();
        this.setupScrollBehavior();
        this.loadSavedTheme();
        console.log('✅ SidebarSystem inicializado');
    },
    
    setupEventListeners() {
        this.sidebarItems.forEach(item => {
            item.addEventListener('click', () => {
                const page = item.dataset.page;
                this.navigateToPage(page);
                Analytics.trackEvent('Navigation', 'Sidebar', page);
            });
        });

        if (this.mobileToggle) {
            this.mobileToggle.addEventListener('click', () => {
                this.toggleMobileSidebar();
            });
        }

        const themeToggle = document.getElementById('themeToggle');
        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                this.toggleTheme();
            });
        }

        const backToTop = document.getElementById('backToTop');
        if (backToTop) {
            backToTop.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
                Analytics.trackEvent('Navigation', 'Back to Top', 'Button');
            });
        }

        const footerThemeLink = document.getElementById('footerThemeLink');
        if (footerThemeLink) {
            footerThemeLink.addEventListener('click', (e) => {
                e.preventDefault();
                this.toggleTheme();
            });
        }

        const footerTopLink = document.getElementById('footerTopLink');
        if (footerTopLink) {
            footerTopLink.addEventListener('click', (e) => {
                e.preventDefault();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        }

        const pwaInstallLink = document.getElementById('footerPWALink');
        if (pwaInstallLink) {
            pwaInstallLink.addEventListener('click', (e) => {
                e.preventDefault();
                if (window.FluxotecaSystems && window.FluxotecaSystems.PWA) {
                    window.FluxotecaSystems.PWA.triggerInstall();
                }
            });
        }
    },
    
    setupScrollBehavior() {
        let lastScrollY = window.scrollY;
        
        window.addEventListener('scroll', () => {
            const currentScrollY = window.scrollY;
            
            if (window.innerWidth <= 768) {
                if (this.sidebar?.classList.contains('active') && currentScrollY > lastScrollY && currentScrollY > 100) {
                    this.toggleMobileSidebar();
                }
            }
            
            lastScrollY = currentScrollY;
        });
    },

    toggleMobileSidebar() {
        if (this.sidebar) {
            const isActive = this.sidebar.classList.contains('active');
            const overlay = document.getElementById('mobileSidebarOverlay');
            const toggle = document.getElementById('mobileSidebarToggle');
            const menuIcon = document.getElementById('mobileMenuIcon');
            
            if (isActive) {
                this.sidebar.classList.remove('active');
                if (overlay) {
                    overlay.classList.remove('active');
                    setTimeout(() => {
                        overlay.style.display = 'none';
                    }, 300);
                }
                if (menuIcon) {
                    menuIcon.innerHTML = '<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>';
                }
            } else {
                this.sidebar.classList.add('active');
                if (overlay) {
                    overlay.style.display = 'block';
                    setTimeout(() => {
                        overlay.classList.add('active');
                    }, 10);
                }
                if (menuIcon) {
                    menuIcon.innerHTML = '<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>';
                }
            }
            
            if (toggle) {
                toggle.setAttribute('aria-expanded', isActive ? 'false' : 'true');
                toggle.setAttribute('aria-label', isActive ? 'Abrir menu de navegação' : 'Fechar menu de navegação');
            }
            
            if (overlay && !isActive) {
                const closeOverlay = () => {
                    this.toggleMobileSidebar();
                    overlay.removeEventListener('click', closeOverlay);
                };
                overlay.addEventListener('click', closeOverlay);
            }
        }
    },

    toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('themeIcon');
        
        if (body.dataset.theme === 'dark') {
            body.removeAttribute('data-theme');
            localStorage.setItem('theme', 'light');
            if (themeIcon) {
                themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>';
            }
            Analytics.trackEvent('Theme', 'Switch', 'Light');
        } else {
            body.dataset.theme = 'dark';
            localStorage.setItem('theme', 'dark');
            if (themeIcon) {
                themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>';
            }
            Analytics.trackEvent('Theme', 'Switch', 'Dark');
        }
    },

    loadSavedTheme() {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.body.dataset.theme = 'dark';
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.innerHTML = '<circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>';
            }
        }
    },

    navigateToPage(page) {
        this.sidebarItems.forEach(item => {
            item.removeAttribute('aria-current');
        });
        
        const activeItem = document.querySelector(`[data-page="${page}"]`);
        if (activeItem) {
            activeItem.setAttribute('aria-current', 'page');
        }
        
        switch (page) {
            case 'inicio':
                window.scrollTo({ top: 0, behavior: 'smooth' });
                break;
            case 'ferramentas':
                const ferramentasSection = document.getElementById('ferramentas');
                if (ferramentasSection) {
                    ferramentasSection.scrollIntoView({ behavior: 'smooth' });
                }
                break;
            case 'gratuitas':
                this.filterFreeTools();
                break;
            case 'prompts':
                window.open('https://fluxoteca.com.br/prompts-pme/', '_blank');
                break;
       	     case 'blog':
            	  window.open('https://fluxoteca.com.br/blog/', '_blank', 'noopener,noreferrer');
            	  break;
            case 'sobre':
                this.showAbout();
                break;
            case 'suporte':
                this.showSupport();
                break;
        }
    },

filterFreeTools() {
    // 1) Descer até a seção de ferramentas
    const ferramentasSection = document.getElementById('ferramentas');
    if (ferramentasSection) {
        ferramentasSection.scrollIntoView({ behavior: 'smooth' });
    }

    // 2) Esperar um pouquinho para garantir que tudo carregou
    setTimeout(() => {
        // Selecionar todos os cards de ferramenta
        const cards = document.querySelectorAll('.tool-card');

        cards.forEach(card => {
            // Verifica se esse card tem um selo "Gratuito"
            const hasFreeBadge = card.querySelector('.tool-badge.free') !== null;

            if (hasFreeBadge) {
                // Se tiver selo "Gratuito", mostramos o card
                card.style.display = 'flex';
                card.style.opacity = '1';
            } else {
                // Se não tiver, escondemos o card
                card.style.display = 'none';
            }
        });

        // 3) Se o carrossel existir, pedimos para ele se atualizar
        if (window.CarouselSystem) {
            if (typeof window.CarouselSystem.updateTotalSlides === 'function') {
                window.CarouselSystem.updateTotalSlides();
            }
            if (typeof window.CarouselSystem.updateCarousel === 'function') {
                window.CarouselSystem.updateCarousel();
            }
        }
    }, 500);
},

showAbout() {
    this.showCustomModal('Sobre a Fluxoteca', '', 'about');
},

showSupport() {
    this.showCustomModal('Suporte e Ajuda', '', 'support');
},

showCustomModal(title, content, type = 'default') {
    // Criar overlay
   this.lastFocusElement = document.activeElement;

    const overlay = document.createElement('div');
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(8px);
        z-index: 3000;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        opacity: 0;
        transition: opacity 0.3s ease;
    `;

    // Criar modal
    const modal = document.createElement('div');
    modal.style.cssText = `
        background: var(--card-bg);
        border-radius: 24px;
        padding: 0;
        max-width: ${type === 'about' || type === 'support' ? '650px' : '500px'};
        width: 100%;
        max-height: 85vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        box-shadow: var(--shadow-xl);
        position: relative;
        transform: scale(0.9);
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    `;

    // Conteúdo baseado no tipo
    if (type === 'about') {
        modal.innerHTML = this.createAboutModalContent();
    } else if (type === 'support') {
        modal.innerHTML = this.createSupportModalContent();
    } else {
        modal.innerHTML = `
            <div style="padding: 32px;">
                <h3 style="font-size: 24px; font-weight: 700; margin-bottom: 16px; color: var(--text-primary);">${title}</h3>
                <pre style="white-space: pre-wrap; font-family: inherit; font-size: 14px; line-height: 1.6; color: var(--text-secondary); margin-bottom: 24px;">${content}</pre>
                <button type="button" data-role="close-modal" style="
                    width: 100%;
                    padding: 12px;
                    background: var(--accent-primary);
                    color: var(--bg-primary);
                    border: none;
                    border-radius: 12px;
                    font-size: 16px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.3s ease;
                ">Fechar</button>
            </div>
        `;
    }

    overlay.appendChild(modal);
    document.body.appendChild(overlay);

    // Acessibilidade: foco e navegação por teclado no modal
    const previouslyFocused = this.lastFocusElement;
    const focusableSelectors = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
    const focusableElements = modal.querySelectorAll(focusableSelectors);
    const firstFocusable = focusableElements[0];
    const lastFocusable = focusableElements[focusableElements.length - 1];

    // Aplica atributos ARIA básicos
    modal.setAttribute('role', 'dialog');
    modal.setAttribute('aria-modal', 'true');

    // Define foco inicial
    if (firstFocusable) {
        firstFocusable.focus();
    } else {
        modal.setAttribute('tabindex', '-1');
        modal.focus();
    }

    const handleKeyDown = (e) => {
        if (e.key === 'Tab') {
            if (!focusableElements.length) return;

            // SHIFT + TAB no primeiro volta para o último
            if (e.shiftKey && document.activeElement === firstFocusable) {
                e.preventDefault();
                lastFocusable.focus();
            }
            // TAB no último volta para o primeiro
            else if (!e.shiftKey && document.activeElement === lastFocusable) {
                e.preventDefault();
                firstFocusable.focus();
            }
        }
    };

    modal.addEventListener('keydown', handleKeyDown);

    // Animação de entrada
    requestAnimationFrame(() => {
        overlay.style.opacity = '1';
        modal.style.transform = 'scale(1)';
    });

    // Função para fechar modal
    const closeModal = () => {
        overlay.style.opacity = '0';
        modal.style.transform = 'scale(0.9)';

        setTimeout(() => {
            if (document.body.contains(overlay)) {
                modal.removeEventListener('keydown', handleKeyDown);
                document.body.removeChild(overlay);
            }

            // Devolve o foco para o elemento que estava ativo antes
            if (previouslyFocused && typeof previouslyFocused.focus === 'function') {
                previouslyFocused.focus();
            }
        }, 300);
    };

// Event listeners para fechar
const closeBtn = modal.querySelector('[data-role="close-modal"]');
if (closeBtn) {
    closeBtn.addEventListener('click', closeModal);
}

overlay.addEventListener('click', (e) => {
    if (e.target === overlay) closeModal();
});

    // Fechar com ESC
    const handleEsc = (e) => {
        if (e.key === 'Escape') {
            closeModal();
            document.removeEventListener('keydown', handleEsc);
        }
    };
    document.addEventListener('keydown', handleEsc);

    // Remover listener quando modal fechar
    overlay.addEventListener('transitionend', function handler(e) {
        if (e.propertyName === 'opacity' && overlay.style.opacity === '0') {
            document.removeEventListener('keydown', handleEsc);
            overlay.removeEventListener('transitionend', handler);
        }
    });
},

createAboutModalContent() {
    return `
        <div style="
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 32px;
            text-align: center;
            position: relative;
            overflow: hidden;
        ">
            <div style="
                position: absolute;
                top: -20px;
                right: -20px;
                width: 100px;
                height: 100px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 50%;
                pointer-events: none;
            "></div>
            <div style="
                width: 80px;
                height: 80px;
                background: rgba(255, 255, 255, 0.2);
                border-radius: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 20px;
            ">
                <svg viewBox="0 0 40 40" style="width: 40px; height: 40px; fill: white;">
                    <path d="M8 12 L20 6 L32 12 L32 28 L20 34 L8 28 Z" fill="white" opacity="0.3"/>
                    <path d="M20 6 L20 20" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                    <path d="M8 12 L20 20 L32 12" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <circle cx="20" cy="20" r="3" fill="white"/>
                </svg>
            </div>
            <h2 style="
                font-size: 28px;
                font-weight: 800;
                color: white;
                margin-bottom: 12px;
                letter-spacing: -0.5px;
            ">Sobre a Fluxoteca</h2>
            <p style="
                color: rgba(255, 255, 255, 0.9);
                font-size: 16px;
                line-height: 1.6;
                margin: 0;
            ">Ferramentas inteligentes para PMEs tomarem decisões com clareza</p>
        </div>
        
        <div style="padding: 32px 32px 24px 32px; overflow-y: auto; flex: 1; min-height: 0;">
            <!-- Para quem é -->
            <div style="
                background: var(--bg-secondary);
                border: 1px solid var(--border-color);
                border-radius: 16px;
                padding: 24px;
                margin-bottom: 20px;
                transition: all 0.3s ease;
            ">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                    <div style="
                        width: 48px;
                        height: 48px;
                        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
                        border-radius: 12px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    ">
                        <svg viewBox="0 0 24 24" style="width: 24px; height: 24px; stroke: white; fill: none; stroke-width: 2;">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                    </div>
                    <h3 style="
                        font-size: 20px;
                        font-weight: 700;
                        color: var(--text-primary);
                        margin: 0;
                    ">Para quem é</h3>
                </div>
                <p style="
                    color: var(--text-secondary);
                    font-size: 15px;
                    line-height: 1.6;
                    margin: 0;
                "> Empresários, gestores, consultores e analistas que querem clareza para decidir e organização para delegar sem virar gargalo.</p>
            </div>
            
            <!-- Nossa missão -->
            <div style="
                background: var(--bg-secondary);
                border: 1px solid var(--border-color);
                border-radius: 16px;
                padding: 24px;
                margin-bottom: 20px;
                transition: all 0.3s ease;
            ">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px;">
                    <div style="
                        width: 48px;
                        height: 48px;
                        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
                        border-radius: 12px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    ">
                        <svg viewBox="0 0 24 24" style="width: 24px; height: 24px; stroke: white; fill: none; stroke-width: 2;">
                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                        </svg>
                    </div>
                    <h3 style="
                        font-size: 20px;
                        font-weight: 700;
                        color: var(--text-primary);
                        margin: 0;
                    ">Nossa missão</h3>
                </div>
                <p style="
                    color: var(--text-secondary);
                    font-size: 15px;
                    line-height: 1.6;
                    margin: 0;
                "> Contribuir para melhores decisões em finanças, operações e contabilidade de PMEs, através de guias e ferramentas práticas e diretas ao ponto. Sem enrolação, tudo focado em resultado que aparece no dia a dia.</p>
            </div>
            
            <!-- Como funciona -->
            <div style="
                background: var(--bg-secondary);
                border: 1px solid var(--border-color);
                border-radius: 16px;
                padding: 24px;
                margin-bottom: 24px;
            ">
                <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 20px;">
                    <div style="
                        width: 48px;
                        height: 48px;
                        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
                        border-radius: 12px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                    ">
                        <svg viewBox="0 0 24 24" style="width: 24px; height: 24px; stroke: white; fill: none; stroke-width: 2;">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M12 1v6m0 6v6"></path>
                            <path d="M17 7l-5 5m0 0l-5-5"></path>
                        </svg>
                    </div>
                    <h3 style="
                        font-size: 20px;
                        font-weight: 700;
                        color: var(--text-primary);
                        margin: 0;
                    ">Como funciona</h3>
                </div>
                
                <div style="display: flex; flex-direction: column; gap: 16px;">
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <div style="
                            width: 32px;
                            height: 32px;
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 14px;
                            font-weight: 700;
                            flex-shrink: 0;
                        ">1</div>
                        <span style="color: var(--text-primary); font-size: 15px; font-weight: 600;">Você escolhe o ponto que está travando agora.</span>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <div style="
                            width: 32px;
                            height: 32px;
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 14px;
                            font-weight: 700;
                            flex-shrink: 0;
                        ">2</div>
                        <span style="color: var(--text-primary); font-size: 15px; font-weight: 600;">Abre a ferramenta, segue o passo a passo e adapta para a sua empresa.</span>
                    </div>
                    
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <div style="
                            width: 32px;
                            height: 32px;
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 14px;
                            font-weight: 700;
                            flex-shrink: 0;
                        ">3</div>
                        <span style="color: var(--text-primary); font-size: 15px; font-weight: 600;">Usa as orientações para alinhar com o time, com o contador ou com o sócio.</span>
                    </div>
            
	 <div style="display: flex; align-items: center; gap: 16px;">
                        <div style="
                            width: 32px;
                            height: 32px;
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            font-size: 14px;
                            font-weight: 700;
                            flex-shrink: 0;
                        ">4</div>
                        <span style="color: var(--text-primary); font-size: 15px; font-weight: 600;">Repete sempre que precisar, sem depender de curso ou consultoria contínua.</span>
                    </div>
                </div>
            </div>
            
            <div style="
                text-align: center;
                padding: 20px;
                background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
                border-radius: 16px;
                margin-bottom: 24px;
            ">
                <p style="
                    color: var(--text-secondary);
                    font-size: 14px;
                    margin: 0 0 8px 0;
                    font-weight: 500;
                ">Informações sobre consultoria, acesse:</p>
                <a href="https://vanessanovais.com.br" target="_blank" rel="noopener noreferrer" style="
                    color: var(--accent-secondary);
                    font-weight: 700;
                    text-decoration: none;
                    font-size: 16px;
                ">🌐 vanessanovais.com.br</a>
            </div>
            
        </div>
        
        <div style="padding: 24px 32px; border-top: 1px solid var(--border-color); background: var(--bg-secondary);">
            <button type="button" data-role="close-modal" style="
                width: 100%;
                padding: 16px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                border-radius: 12px;
                font-size: 16px;
                font-weight: 700;
                cursor: pointer;
                transition: all 0.3s ease;
            ">Entendi, obrigado! ✓</button>
        </div>          
    `;
},

createSupportModalContent() {
    return `
        <div style="
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 32px;
            text-align: center;
            position: relative;
            overflow: hidden;
        ">
            <div style="
                position: absolute;
                top: -20px;
                left: -20px;
                width: 80px;
                height: 80px;
                background: rgba(255, 255, 255, 0.1);
                border-radius: 50%;
                pointer-events: none;
            "></div>
            <div style="
                width: 80px;
                height: 80px;
                background: rgba(255, 255, 255, 0.2);
                border-radius: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 20px;
            ">
                <svg viewBox="0 0 24 24" style="width: 32px; height: 32px; stroke: white; fill: none; stroke-width: 2;">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
            </div>
            <h2 style="
                font-size: 28px;
                font-weight: 800;
                color: white;
                margin-bottom: 12px;
            ">Suporte e Ajuda</h2>
            <p style="
                color: rgba(255, 255, 255, 0.9);
                font-size: 16px;
                line-height: 1.6;
                margin: 0;
            ">Estamos aqui para ajudar você a aproveitar ao máximo nossas ferramentas</p>
        </div>
        
        <div style="padding: 32px 32px 24px 32px; overflow-y: auto; flex: 1; min-height: 0;">
            <!-- Contato -->
            <div style="margin-bottom: 24px;">
                <h3 style="
                    font-size: 18px;
                    font-weight: 700;
                    color: var(--text-primary);
                    margin-bottom: 16px;
                ">📞 Entre em contato</h3>
                
                <div style="display: grid; gap: 12px;">
                    <div style="
                        background: var(--bg-secondary);
                        border: 1px solid var(--border-color);
                        border-radius: 12px;
                        padding: 16px;
                        display: flex;
                        align-items: center;
                        gap: 12px;
                    ">
                        <div style="
                            width: 40px;
                            height: 40px;
                            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
                            border-radius: 10px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        ">
                            <span style="font-size: 18px;">📧</span>
                        </div>
                        <div>
                            <div style="font-weight: 600; color: var(--text-primary); font-size: 14px;">Email</div>
                            <div style="color: var(--text-secondary); font-size: 13px;">suporte@fluxoteca.com.br</div>
                        </div>
                    </div>
                    
                    <div style="
                        background: var(--bg-secondary);
                        border: 1px solid var(--border-color);
                        border-radius: 12px;
                        padding: 16px;
                        display: flex;
                        align-items: center;
                        gap: 12px;
                    ">
                        <div style="
                            width: 40px;
                            height: 40px;
                            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
                            border-radius: 10px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                        ">
                            <span style="font-size: 18px;">🌐</span>
                        </div>
                        <div>
                            <div style="font-weight: 600; color: var(--text-primary); font-size: 14px;">Site oficial</div>
                            <div style="color: var(--text-secondary); font-size: 13px;">fluxoteca.com.br</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- FAQ -->
            <div style="margin-bottom: 24px;">
                <h3 style="
                    font-size: 18px;
                    font-weight: 700;
                    color: var(--text-primary);
                    margin-bottom: 16px;
                ">❓ Perguntas frequentes</h3>
                
                <div style="display: flex; flex-direction: column; gap: 12px;">
                    <div style="
                        background: var(--bg-secondary);
                        border: 1px solid var(--border-color);
                        border-left: 4px solid #10b981;
                        border-radius: 12px;
                        padding: 16px;
                    ">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <span style="font-size: 16px;">💚</span>
                            <strong style="color: var(--text-primary); font-size: 14px;">As ferramentas são realmente gratuitas?</strong>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 13px; margin: 0; line-height: 1.5;">Sim! Temos ferramentas 100% gratuitas e outras premium com recursos mais avançados.</p>
                    </div>
                    
                    <div style="
                        background: var(--bg-secondary);
                        border: 1px solid var(--border-color);
                        border-left: 4px solid #f59e0b;
                        border-radius: 12px;
                        padding: 16px;
                    ">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <span style="font-size: 16px;">🔐</span>
                            <strong style="color: var(--text-primary); font-size: 14px;">Preciso me cadastrar?</strong>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 13px; margin: 0; line-height: 1.5;">Para ferramentas Gratuitas, basta colocar seu e-mail. Ferramentas Premium requer apenas um cadastro simples e rápido no check-out da compra..</p>
                    </div> 
                    
                    <div style="
                        background: var(--bg-secondary);
                        border: 1px solid var(--border-color);
                        border-left: 4px solid #ef4444;
                        border-radius: 12px;
                        padding: 16px;
                    ">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <span style="font-size: 16px;">🔧</span>
                            <strong style="color: var(--text-primary); font-size: 14px;">Algo não está funcionando?</strong>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 13px; margin: 0; line-height: 1.5;">Tente: atualizar a página (F5), limpar cache ou nos contate.</p>
                    </div>
                </div>
            </div>
            
            <div style="
                text-align: center;
                padding: 20px;
                background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
                border-radius: 16px;
                margin-bottom: 24px;
            ">
                <p style="
                    color: var(--text-secondary);
                    font-size: 14px;
                    margin: 0 0 8px 0;
                    font-weight: 500;
                ">💡 Dica</p>
                <p style="
                    color: var(--text-primary);
                    font-size: 14px;
                    margin: 0;
                    line-height: 1.5;
                ">Você pode sugerir novas ferramentas ou melhorias enviando um email. Adoramos feedback!</p>
            </div>
            
        </div>
        
        <div style="padding: 24px 32px; border-top: 1px solid var(--border-color); background: var(--bg-secondary);">
            <button type="button" data-role="close-modal" style="
                width: 100%;
                padding: 16px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                border-radius: 12px;
                font-size: 16px;
                font-weight: 700;
                cursor: pointer;
                transition: all 0.3s ease;
            ">Entendi, obrigado! ✓</button>
        </div>          
    `;
}
};

// Carousel System
const CarouselSystem = {
    currentSlide: 0,
    totalSlides: 0,
    cardsPerView: 2,
    isAnimating: false,
    
    init() {
        this.setupCarousel();
        this.setupEventListeners();
        this.updateCardsPerView();
        this.updateTotalSlides();
        this.updateCarousel();
        console.log('✅ CarouselSystem inicializado');
    },
    
    setupCarousel() {
        this.carousel = document.getElementById('toolsCarousel');
        this.grid = document.getElementById('toolsGrid');
        if (!this.carousel || !this.grid) {
            console.error('❌ Elementos do carrossel não encontrados');
            return;
        }
        
        this.cards = Array.from(this.grid.querySelectorAll('.tool-card'));
        this.prevBtn = document.querySelector('.carousel-prev');
        this.nextBtn = document.querySelector('.carousel-next');
        this.indicatorsContainer = document.getElementById('carouselIndicators');
    },
    
    setupEventListeners() {
        if (this.prevBtn) {
            this.prevBtn.addEventListener('click', () => this.prev());
        }
        if (this.nextBtn) {
            this.nextBtn.addEventListener('click', () => this.next());
        }
        
        if (this.carousel) {
            this.carousel.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') this.prev();
                if (e.key === 'ArrowRight') this.next();
            });
        }
        
        window.addEventListener('resize', () => {
            this.updateCardsPerView();
            this.updateTotalSlides();
            this.updateCarousel();
        });
    },
    
    updateCardsPerView() {
        const width = window.innerWidth;
        
        if (width < 481) {
            this.cardsPerView = 1;
        } else if (width < 769) {
            this.cardsPerView = 2;
        } else if (width < 1024) {
            this.cardsPerView = 3;
        } else {
            this.cardsPerView = 4;
        }
        
        this.updateCardLayout();
    },
    
    updateCardLayout() {
        this.cards.forEach(card => {
            card.style.flex = `0 0 calc(${100 / this.cardsPerView}% - ${24 * (this.cardsPerView - 1) / this.cardsPerView}px)`;
        });
    },
    
    updateTotalSlides() {
        if (!this.cards || !this.cards.length) {
            console.error('❌ Nenhum card encontrado para o carrossel');
            this.totalSlides = 0;
            return;
        }
        
        const visibleCards = this.cards.filter(card => 
            card.style.display !== 'none'
        );
        
        this.totalSlides = Math.max(1, Math.ceil(visibleCards.length / this.cardsPerView));
        this.createIndicators();
        
        console.log(`📊 Carrossel: ${visibleCards.length} cards, ${this.cardsPerView} por view, ${this.totalSlides} slides`);
    },
    
    createIndicators() {
        if (!this.indicatorsContainer) return;
        
        this.indicatorsContainer.innerHTML = '';
        
        for (let i = 0; i < this.totalSlides; i++) {
            const indicator = document.createElement('button');
            indicator.className = `carousel-indicator ${i === this.currentSlide ? 'active' : ''}`;
            indicator.setAttribute('aria-label', `Ir para slide ${i + 1}`);
            indicator.addEventListener('click', () => this.goToSlide(i));
            this.indicatorsContainer.appendChild(indicator);
        }
    },
    
    prev() {
        if (this.isAnimating || this.currentSlide <= 0) return;
        
        this.isAnimating = true;
        this.currentSlide--;
        this.updateCarousel();
        
        setTimeout(() => {
            this.isAnimating = false;
        }, 500);
    },
    
    next() {
        if (this.isAnimating || this.currentSlide >= this.totalSlides - 1) return;
        
        this.isAnimating = true;
        this.currentSlide++;
        this.updateCarousel();
        
        setTimeout(() => {
            this.isAnimating = false;
        }, 500);
    },
    
    goToSlide(slideIndex) {
        if (this.isAnimating || slideIndex < 0 || slideIndex >= this.totalSlides) return;
        
        this.isAnimating = true;
        this.currentSlide = slideIndex;
        this.updateCarousel();
        
        setTimeout(() => {
            this.isAnimating = false;
        }, 500);
    },
    
    updateCarousel() {
        if (!this.grid) return;
        const translateX = this.currentSlide * 100;
        this.grid.style.transform = `translateX(-${translateX}%)`;
        
        const indicators = this.indicatorsContainer?.querySelectorAll('.carousel-indicator');
        indicators?.forEach((indicator, index) => {
            indicator.classList.toggle('active', index === this.currentSlide);
        });
        
        if (this.prevBtn) {
            this.prevBtn.disabled = this.currentSlide === 0;
        }
        if (this.nextBtn) {
            this.nextBtn.disabled = this.currentSlide === this.totalSlides - 1;
        }
    }
};

// Catalog CTA Integration
function setupCatalogCTA() {
    const catalogBtn = document.getElementById('catalogCtaBtn');
    if (catalogBtn) {
        catalogBtn.addEventListener('click', function() {
            if (window.Analytics) {
                Analytics.trackCatalogClick();
            }
        });
    }
}

// Catalog CTA Integration
function setupCatalogCTA() {
    const catalogBtn = document.getElementById('catalogCtaBtn');
    if (catalogBtn) {
        catalogBtn.addEventListener('click', function() {
            if (window.Analytics) {
                Analytics.trackCatalogClick();
            }
        });
    }
}

// Tool Cards Links Integration
function setupToolCardLinks() {
    const toolCards = document.querySelectorAll('.tool-card');

    toolCards.forEach(card => {
        const url = card.dataset.url;
        if (!url) return; // se não tiver data-url, não faz nada

        // 1) Clique no botão interno do card
        const button = card.querySelector('button.btn');
        if (button) {
            button.addEventListener('click', (e) => {
                e.stopPropagation(); // evita clicar "duas vezes" se o card também tiver clique
                window.location.href = url;

                if (window.Analytics) {
                    Analytics.trackEvent('Tools', 'Open', url);
                }
            });
        }

        // 2) Clique no próprio card (fora do botão)
        card.addEventListener('click', (e) => {
            // Se o clique foi no botão, já tratamos acima
            if (e.target.closest('button')) return;

            window.location.href = url;

            if (window.Analytics) {
                Analytics.trackEvent('Tools', 'OpenCard', url);
            }
        });

        // 3) Tecla Enter quando o card está focado (acessibilidade teclado)
        card.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && document.activeElement === card) {
		window.location.href = url;

                if (window.Analytics) {
                    Analytics.trackEvent('Tools', 'OpenKeyboard', url);
                }
            }
        });
    });
}

// Blog Cards Links Integration
function setupBlogCardLinks() {
    const blogCards = document.querySelectorAll('.blog-card');

    blogCards.forEach(card => {
        // Se quiser, pode deixar fixo, mas assim ele lê do data-url se existir
        const url = card.dataset.url || 'https://fluxoteca.com.br/blog/';

        // 1) Clique no botão "Ler artigo"
        const button = card.querySelector('button.btn');
        if (button) {
            button.addEventListener('click', (e) => {
                e.stopPropagation(); // evita conflito com clique no card
                window.location.href = url;

                if (window.Analytics) {
                    Analytics.trackEvent('Blog', 'OpenButton', url);
                }
            });
        }

        // 2) Clique no card inteiro (fora do botão)
        card.addEventListener('click', (e) => {
            if (e.target.closest('button')) return; // se clicou no botão, já tratou acima
            window.location.href = url;

            if (window.Analytics) {
                Analytics.trackEvent('Blog', 'OpenCard', url);
            }
        });

        // 3) Tecla Enter com foco no card (acessibilidade teclado)
        card.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && document.activeElement === card) {
                window.location.href = url;

                if (window.Analytics) {
                    Analytics.trackEvent('Blog', 'OpenKeyboard', url);
                }
            }
        });
    });
}

// Blog CTA Integration (Ler mais artigos)
function setupViewAllBlogCTA() {
    const btn = document.getElementById('viewAllBlogBtn');
    if (!btn) return;

    btn.addEventListener('click', () => {
        const url = 'https://fluxoteca.com.br/blog/';
        window.location.href = url;

        if (window.Analytics) {
            Analytics.trackEvent('Blog', 'ViewAll', url);
        }
    });
}

// Main Initialization
document.addEventListener('DOMContentLoaded', function() {
    try {
        console.log('🚀 Inicializando Fluxoteca Systems...');
        
        // Initialize all systems
        Analytics.init();
        PWA.init();
        QuizSystem.init();
        SidebarSystem.init();
        SearchSystem.init();
        CarouselSystem.init();
        setupCatalogCTA();
        setupToolCardLinks();
	setupBlogCardLinks();
	setupViewAllBlogCTA();
        
        // Export systems to global scope

        document.body.classList.add('js-enabled');

        window.FluxotecaSystems = {
            Analytics,
            PWA,
            QuizSystem,
            SidebarSystem,
            SearchSystem,
            CarouselSystem
        };
        
        console.log('✅ Todos os sistemas inicializados com sucesso!');
        
    } catch (error) {
        console.error('❌ Erro na inicialização:', error);
    }
});

// Global error handler
window.addEventListener('error', function(e) {
    console.error('❌ Erro global:', e.error);
});

})(); 

</script>
</body>
</html>